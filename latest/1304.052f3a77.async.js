"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[1304],{91304:function(Xe,fe,o){o.r(fe),o.d(fe,{ResizableTextArea:function(){return pe},default:function(){return Le}});var ve=o(87462),Q=o(4942),A=o(1413),ye=o(74902),E=o(97685),ge=o(91),Ce=o(94184),H=o.n(Ce),be=o(67656),Ae=o(82234),me=o(87887),he=o(21770),n=o(67294),Ee=o(71002),Ze=o(48555),Se=o(8410),xe=o(75164),we=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,Ie=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],k={},v;function Te(e){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(Z&&k[a])return k[a];var r=window.getComputedStyle(e),z=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),R=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),g=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),i=Ie.map(function(u){return"".concat(u,":").concat(r.getPropertyValue(u))}).join(";"),m={sizingStyle:i,paddingSize:R,borderSize:g,boxSizing:z};return Z&&a&&(k[a]=m),m}function Fe(e){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;v||(v=document.createElement("textarea"),v.setAttribute("tab-index","-1"),v.setAttribute("aria-hidden","true"),document.body.appendChild(v)),e.getAttribute("wrap")?v.setAttribute("wrap",e.getAttribute("wrap")):v.removeAttribute("wrap");var z=Te(e,Z),R=z.paddingSize,g=z.borderSize,i=z.boxSizing,m=z.sizingStyle;v.setAttribute("style","".concat(m,";").concat(we)),v.value=e.value||e.placeholder||"";var u=void 0,h=void 0,y,l=v.scrollHeight;if(i==="border-box"?l+=g:i==="content-box"&&(l-=R),a!==null||r!==null){v.value=" ";var D=v.scrollHeight-R;a!==null&&(u=D*a,i==="border-box"&&(u=u+R+g),l=Math.max(u,l)),r!==null&&(h=D*r,i==="border-box"&&(h=h+R+g),y=l>h?"":"hidden",l=Math.min(h,l))}var w={height:l,overflowY:y,resize:"none"};return u&&(w.minHeight=u),h&&(w.maxHeight=h),w}var Ve=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],q=0,_=1,ee=2,Ne=n.forwardRef(function(e,Z){var a=e,r=a.prefixCls,z=a.onPressEnter,R=a.defaultValue,g=a.value,i=a.autoSize,m=a.onResize,u=a.className,h=a.style,y=a.disabled,l=a.onChange,D=a.onInternalAutoSize,w=(0,ge.Z)(a,Ve),I=(0,he.Z)(R,{value:g,postState:function(c){return c!=null?c:""}}),P=(0,E.Z)(I,2),te=P[0],ae=P[1],M=function(c){ae(c.target.value),l==null||l(c)},S=n.useRef();n.useImperativeHandle(Z,function(){return{textArea:S.current}});var ne=n.useMemo(function(){return i&&(0,Ee.Z)(i)==="object"?[i.minRows,i.maxRows]:[]},[i]),f=(0,E.Z)(ne,2),C=f[0],$=f[1],T=!!i,re=function(){try{if(document.activeElement===S.current){var c=S.current,ue=c.selectionStart,X=c.selectionEnd,W=c.scrollTop;S.current.setSelectionRange(ue,X),S.current.scrollTop=W}}catch(ze){}},O=n.useState(ee),L=(0,E.Z)(O,2),b=L[0],V=L[1],oe=n.useState(),K=(0,E.Z)(oe,2),ie=K[0],Y=K[1],B=function(){V(q)};(0,Se.Z)(function(){T&&B()},[g,C,$,T]),(0,Se.Z)(function(){if(b===q)V(_);else if(b===_){var d=Fe(S.current,!1,C,$);V(ee),Y(d)}else re()},[b]);var U=n.useRef(),j=function(){xe.Z.cancel(U.current)},le=function(c){b===ee&&(m==null||m(c),i&&(j(),U.current=(0,xe.Z)(function(){B()})))};n.useEffect(function(){return j},[]);var se=T?ie:null,N=(0,A.Z)((0,A.Z)({},h),se);return(b===q||b===_)&&(N.overflowY="hidden",N.overflowX="hidden"),n.createElement(Ze.Z,{onResize:le,disabled:!(i||m)},n.createElement("textarea",(0,ve.Z)({},w,{ref:S,style:N,className:H()(r,u,(0,Q.Z)({},"".concat(r,"-disabled"),y)),disabled:y,value:te,onChange:M})))}),pe=Ne,Pe=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize"],Me=n.forwardRef(function(e,Z){var a,r,z=e.defaultValue,R=e.value,g=e.onFocus,i=e.onBlur,m=e.onChange,u=e.allowClear,h=e.maxLength,y=e.onCompositionStart,l=e.onCompositionEnd,D=e.suffix,w=e.prefixCls,I=w===void 0?"rc-textarea":w,P=e.showCount,te=e.count,ae=e.className,M=e.style,S=e.disabled,ne=e.hidden,f=e.classNames,C=e.styles,$=e.onResize,T=(0,ge.Z)(e,Pe),re=(0,he.Z)(z,{value:R,defaultValue:z}),O=(0,E.Z)(re,2),L=O[0],b=O[1],V=L==null?"":String(L),oe=n.useState(!1),K=(0,E.Z)(oe,2),ie=K[0],Y=K[1],B=n.useRef(!1),U=n.useState(null),j=(0,E.Z)(U,2),le=j[0],se=j[1],N=(0,n.useRef)(null),d=function(){var t;return(t=N.current)===null||t===void 0?void 0:t.textArea},c=function(){d().focus()};(0,n.useImperativeHandle)(Z,function(){return{resizableTextArea:N.current,focus:c,blur:function(){d().blur()}}}),(0,n.useEffect)(function(){Y(function(s){return!S&&s})},[S]);var ue=n.useState(null),X=(0,E.Z)(ue,2),W=X[0],ze=X[1];n.useEffect(function(){if(W){var s;(s=d()).setSelectionRange.apply(s,(0,ye.Z)(W))}},[W]);var x=(0,Ae.Z)(te,P),G=(a=x.max)!==null&&a!==void 0?a:h,Be=Number(G)>0,de=x.strategy(V),He=!!G&&de>G,Re=function(t,p){var F=p;!B.current&&x.exceedFormatter&&x.max&&x.strategy(p)>x.max&&(F=x.exceedFormatter(p,{max:x.max}),p!==F&&ze([d().selectionStart||0,d().selectionEnd||0])),b(F),(0,me.rJ)(t.currentTarget,t,m,F)},De=function(t){B.current=!0,y==null||y(t)},Ke=function(t){B.current=!1,Re(t,t.currentTarget.value),l==null||l(t)},Ye=function(t){Re(t,t.target.value)},je=function(t){var p=T.onPressEnter,F=T.onKeyDown;t.key==="Enter"&&p&&p(t),F==null||F(t)},We=function(t){Y(!0),g==null||g(t)},Ge=function(t){Y(!1),i==null||i(t)},Je=function(t){b(""),c(),(0,me.rJ)(d(),t,m)},ce=D,J;x.show&&(x.showFormatter?J=x.showFormatter({value:V,count:de,maxLength:G}):J="".concat(de).concat(Be?" / ".concat(G):""),ce=n.createElement(n.Fragment,null,ce,n.createElement("span",{className:H()("".concat(I,"-data-count"),f==null?void 0:f.count),style:C==null?void 0:C.count},J)));var Oe=function(t){var p;$==null||$(t),(p=d())!==null&&p!==void 0&&p.style.height&&se(!0)},Ue=!T.autoSize&&!P&&!u;return n.createElement(be.BaseInput,{value:V,allowClear:u,handleReset:Je,suffix:ce,prefixCls:I,classNames:(0,A.Z)((0,A.Z)({},f),{},{affixWrapper:H()(f==null?void 0:f.affixWrapper,(r={},(0,Q.Z)(r,"".concat(I,"-show-count"),P),(0,Q.Z)(r,"".concat(I,"-textarea-allow-clear"),u),r))}),disabled:S,focused:ie,className:H()(ae,He&&"".concat(I,"-out-of-range")),style:(0,A.Z)((0,A.Z)({},M),le&&!Ue?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof J=="string"?J:void 0}},hidden:ne},n.createElement(pe,(0,ve.Z)({},T,{maxLength:h,onKeyDown:je,onChange:Ye,onFocus:We,onBlur:Ge,onCompositionStart:De,onCompositionEnd:Ke,className:H()(f==null?void 0:f.textarea),style:(0,A.Z)((0,A.Z)({},C==null?void 0:C.textarea),{},{resize:M==null?void 0:M.resize}),disabled:S,prefixCls:I,onResize:Oe,ref:N})))}),$e=Me,Le=$e}}]);
