"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[4511],{89705:function(cn,Vr,m){m.d(Vr,{Z:function(){return kr}});var je=m(87462),er=m(67294),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},rr=E,T=m(13401),nr=function(ar,Be){return er.createElement(T.Z,(0,je.Z)({},ar,{ref:Be,icon:rr}))},kr=er.forwardRef(nr)},54736:function(cn,Vr,m){m.d(Vr,{Z:function(){return jn}});var je=m(87462),er=m(4942),E=m(97685),rr=m(91),T=m(1413),nr=m(2788),kr=m(94184),me=m.n(kr),ar=m(48555),Be=m(34203),Ee=m(66680),fn=m(7028),_=m(8410),dn=m(31131),Xn=m(80334),n=m(67294),gn=n.createContext(null),qr=gn;function pr(e){return e?Array.isArray(e)?e:[e]:[]}function mn(e,i,r,a){return n.useMemo(function(){var s=pr(r!=null?r:i),l=pr(a!=null?a:i),o=new Set(s),c=new Set(l);return e&&(o.has("hover")&&(o.delete("hover"),o.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[o,c]},[e,i,r,a])}var hn=m(5110);function yn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===i[0]:e[0]===i[0]&&e[1]===i[1]}function Cn(e,i,r,a){for(var s=r.points,l=Object.keys(e),o=0;o<l.length;o+=1){var c,d=l[o];if(yn((c=e[d])===null||c===void 0?void 0:c.points,s,a))return"".concat(i,"-placement-").concat(d)}return""}function _r(e,i,r,a){return i||(r?{motionName:"".concat(e,"-").concat(r)}:a?{motionName:a}:null)}function Ke(e){return e.ownerDocument.defaultView}function Lr(e){for(var i=[],r=e==null?void 0:e.parentElement,a=["hidden","scroll","auto"];r;){var s=Ke(r).getComputedStyle(r),l=s.overflowX,o=s.overflowY;(a.includes(l)||a.includes(o))&&i.push(r),r=r.parentElement}return i}function tr(e){return Number.isNaN(e)?1:e}function Mn(e,i){var r=(0,T.Z)({},e);return(i||[]).forEach(function(a){if(!(a instanceof HTMLBodyElement)){var s=Ke(a).getComputedStyle(a),l=s.position;if(l!=="static"){var o=a.getBoundingClientRect(),c=a.offsetHeight,d=a.clientHeight,y=a.offsetWidth,Z=a.clientWidth,f=tr(Math.round(o.width/y*1e3)/1e3),b=tr(Math.round(o.height/c*1e3)/1e3),C=(y-Z)*f,O=(c-d)*b,ee=o.x+o.width-C,F=o.y+o.height-O;r.left=Math.max(r.left,o.x),r.top=Math.max(r.top,o.y),r.right=Math.min(r.right,ee),r.bottom=Math.min(r.bottom,F)}}}),r}function en(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function ke(e,i){var r=i[0],a=i[1],s,l;return r==="t"?l=e.y:r==="b"?l=e.y+e.height:l=e.y+e.height/2,a==="l"?s=e.x:a==="r"?s=e.x+e.width:s=e.x+e.width/2,{x:s,y:l}}function he(e,i){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(a,s){return s===i?r[a]||"c":a}).join("")}function wn(e,i,r,a,s,l,o){var c=n.useState({ready:!1,offsetX:0,offsetY:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:s[a]||{}}),d=(0,E.Z)(c,2),y=d[0],Z=d[1],f=n.useRef(0),b=n.useMemo(function(){return i?Lr(i):[]},[i]),C=n.useRef({}),O=function(){C.current={}};e||O();var ee=(0,Ee.Z)(function(){if(i&&r&&e){let de=function(Zr,Ve){var br=R.x+Zr,Sr=R.y+Ve,Er=br+H,Qr=Sr+D,Jr=Math.max(br,v.left),Ur=Math.max(Sr,v.top),Nr=Math.min(Er,v.right),Gr=Math.min(Qr,v.bottom);return Math.max(0,(Nr-Jr)*(Gr-Ur))},ge=function(){Re=R.y+x,ce=Re+D,be=R.x+$,De=be+H};var S=i,V=S.style.left,re=S.style.top,ie=S.ownerDocument,oe=Ke(S),I=(0,T.Z)((0,T.Z)({},s[a]),l);S.style.left="0",S.style.top="0";var h;if(Array.isArray(r))h={x:r[0],y:r[1],width:0,height:0};else{var J=r.getBoundingClientRect();h={x:J.x,y:J.y,width:J.width,height:J.height}}var R=S.getBoundingClientRect(),Ce=oe.getComputedStyle(S),Me=Ce.width,we=Ce.height,N=ie.documentElement,j=N.clientWidth,k=N.clientHeight,le=N.scrollWidth,Ze=N.scrollHeight,U=N.scrollTop,Y=N.scrollLeft,D=R.height,H=R.width,X=h.height,q=h.width,v=I.htmlRegion==="scroll"?{left:-Y,top:-U,right:le-Y,bottom:Ze-U}:{left:0,top:0,right:j,bottom:k};v=Mn(v,b),S.style.left=V,S.style.top=re;var G=tr(Math.round(H/parseFloat(Me)*1e3)/1e3),L=tr(Math.round(D/parseFloat(we)*1e3)/1e3);if(G===0||L===0||(0,Be.S)(r)&&!(0,hn.Z)(r))return;var P=I.offset,W=I.targetOffset,Qe=P||[],Ne=(0,E.Z)(Qe,2),ir=Ne[0],Pe=ir===void 0?0:ir,or=Ne[1],Je=or===void 0?0:or,lr=W||[],ur=(0,E.Z)(lr,2),sr=ur[0],vr=sr===void 0?0:sr,ne=ur[1],$r=ne===void 0?0:ne;h.x+=vr,h.y+=$r;var xr=I.points||[],cr=(0,E.Z)(xr,2),fr=cr[0],z=cr[1],ue=en(z),B=en(fr),dr=ke(h,ue),Ue=ke(R,B),A=(0,T.Z)({},I),$=dr.x-Ue.x+Pe,x=dr.y-Ue.y+Je,se=de($,x),K=ke(h,["t","l"]),ve=ke(R,["t","l"]),gr=ke(h,["b","r"]),mr=ke(R,["b","r"]),xe=I.overflow||{},zr=xe.adjustX,hr=xe.adjustY,yr=xe.shiftX,Ge=xe.shiftY,Q=function(Ve){return typeof Ve=="boolean"?Ve:Ve>=0},Re,ce,be,De;ge();var Ye=Q(hr),ae=B[0]===ue[0];if(Ye&&B[0]==="t"&&(ce>v.bottom||C.current.bt)){var ze=x;ae?ze-=D-X:ze=K.y-mr.y-Je,de($,ze)>=se?(C.current.bt=!0,x=ze,A.points=[he(B,0),he(ue,0)]):C.current.bt=!1}if(Ye&&B[0]==="b"&&(Re<v.top||C.current.tb)){var Ae=x;ae?Ae+=D-X:Ae=gr.y-ve.y-Je,de($,Ae)>=se?(C.current.tb=!0,x=Ae,A.points=[he(B,0),he(ue,0)]):C.current.tb=!1}var Xe=Q(zr),qe=B[1]===ue[1];if(Xe&&B[1]==="l"&&(De>v.right||C.current.rl)){var Te=$;qe?Te-=H-q:Te=K.x-mr.x-Pe,de(Te,x)>=se?(C.current.rl=!0,$=Te,A.points=[he(B,1),he(ue,1)]):C.current.rl=!1}if(Xe&&B[1]==="r"&&(be<v.left||C.current.lr)){var Fe=$;qe?Fe+=H-q:Fe=gr.x-ve.x-Pe,de(Fe,x)>=se?(C.current.lr=!0,$=Fe,A.points=[he(B,1),he(ue,1)]):C.current.lr=!1}ge();var Se=yr===!0?0:yr;typeof Se=="number"&&(be<v.left&&($-=be-v.left,h.x+q<v.left+Se&&($+=h.x-v.left+q-Se)),De>v.right&&($-=De-v.right,h.x>v.right-Se&&($+=h.x-v.right+Se)));var fe=Ge===!0?0:Ge;typeof fe=="number"&&(Re<v.top&&(x-=Re-v.top,h.y+X<v.top+fe&&(x+=h.y-v.top+X-fe)),ce>v.bottom&&(x-=ce-v.bottom,h.y>v.bottom-fe&&(x+=h.y-v.bottom+fe)));var He=R.x+$,Fr=He+H,We=R.y+x,Cr=We+D,Mr=h.x,pe=Mr+q,wr=h.y,p=wr+X,Hr=Math.max(He,Mr),Wr=Math.min(Fr,pe),Or=(Hr+Wr)/2,Ir=Or-He,jr=Math.max(We,wr),Br=Math.min(Cr,p),Kr=(jr+Br)/2,Oe=Kr-We;o==null||o(i,A),Z({ready:!0,offsetX:$/G,offsetY:x/L,arrowX:Ir/G,arrowY:Oe/L,scaleX:G,scaleY:L,align:A})}}),F=function(){f.current+=1;var V=f.current;Promise.resolve().then(function(){f.current===V&&ee()})},te=function(){Z(function(V){return(0,T.Z)((0,T.Z)({},V),{},{ready:!1})})};return(0,_.Z)(te,[a]),(0,_.Z)(function(){e||te()},[e]),[y.ready,y.offsetX,y.offsetY,y.arrowX,y.arrowY,y.scaleX,y.scaleY,y.align,F]}var rn=m(74902);function Zn(e,i,r,a){(0,_.Z)(function(){if(e&&i&&r){let Z=function(){a()};var s=i,l=r,o=Lr(s),c=Lr(l),d=Ke(l),y=new Set([d].concat((0,rn.Z)(o),(0,rn.Z)(c)));return y.forEach(function(f){f.addEventListener("scroll",Z,{passive:!0})}),d.addEventListener("resize",Z,{passive:!0}),a(),function(){y.forEach(function(f){f.removeEventListener("scroll",Z),d.removeEventListener("resize",Z)})}}},[e,i,r])}var nn=m(62874),ye=m(42550);function bn(e){var i=e.prefixCls,r=e.align,a=e.arrowX,s=a===void 0?0:a,l=e.arrowY,o=l===void 0?0:l,c=n.useRef();if(!r||!r.points)return null;var d={position:"absolute"};if(r.autoArrow!==!1){var y=r.points[0],Z=r.points[1],f=y[0],b=y[1],C=Z[0],O=Z[1];f===C||!["t","b"].includes(f)?d.top=o:f==="t"?d.top=0:d.bottom=0,b===O||!["l","r"].includes(b)?d.left=s:b==="l"?d.left=0:d.right=0}return n.createElement("div",{ref:c,className:"".concat(i,"-arrow"),style:d})}function Sn(e){var i=e.prefixCls,r=e.open,a=e.zIndex,s=e.mask,l=e.motion;return s?React.createElement(nn.Z,(0,je.Z)({},l,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(o){var c=o.className;return React.createElement("div",{style:{zIndex:a},className:me()("".concat(i,"-mask"),c)})}):null}var En=n.forwardRef(function(e,i){var r=e.popup,a=e.className,s=e.prefixCls,l=e.style,o=e.target,c=e.onVisibleChanged,d=e.open,y=e.keepDom,Z=e.onClick,f=e.mask,b=e.arrow,C=e.align,O=e.arrowX,ee=e.arrowY,F=e.motion,te=e.maskMotion,S=e.forceRender,V=e.getPopupContainer,re=e.autoDestroy,ie=e.portal,oe=e.zIndex,I=e.onMouseEnter,h=e.onMouseLeave,J=e.ready,R=e.offsetX,Ce=e.offsetY,Me=e.onAlign,we=e.onPrepare,N=e.stretch,j=e.targetWidth,k=e.targetHeight,le=typeof r=="function"?r():r,Ze=d||y,U=(V==null?void 0:V.length)>0,Y=n.useState(!V||!U),D=(0,E.Z)(Y,2),H=D[0],X=D[1];if((0,_.Z)(function(){!H&&U&&o&&X(!0)},[H,U,o]),!H)return null;var q=J||!d?{left:R,top:Ce}:{left:"-1000vw",top:"-1000vh"},v={};return N&&(N.includes("height")&&k?v.height=k:N.includes("minHeight")&&k&&(v.minHeight=k),N.includes("width")&&j?v.width=j:N.includes("minWidth")&&j&&(v.minWidth=j)),d||(v.pointerEvents="none"),n.createElement(ie,{open:S||Ze,getContainer:V&&function(){return V(o)},autoDestroy:re},n.createElement(Sn,{prefixCls:s,open:d,zIndex:oe,mask:f,motion:te}),n.createElement(ar.Z,{onResize:Me,disabled:!d},function(G){return n.createElement(nn.Z,(0,je.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:S,leavedClassName:"".concat(s,"-hidden")},F,{onAppearPrepare:we,onEnterPrepare:we,visible:d,onVisibleChanged:function(P){var W;F==null||(W=F.onVisibleChanged)===null||W===void 0||W.call(F,P),c(P)}}),function(L,P){var W=L.className,Qe=L.style,Ne=me()(s,W,a);return n.createElement("div",{ref:(0,ye.sQ)(G,i,P),className:Ne,style:(0,T.Z)((0,T.Z)((0,T.Z)((0,T.Z)({},q),v),Qe),{},{boxSizing:"border-box",zIndex:oe},l),onMouseEnter:I,onMouseLeave:h,onClick:Z},b&&n.createElement(bn,{prefixCls:s,align:C,arrowX:O,arrowY:ee}),le)})}))}),Nn=En,Pn=n.forwardRef(function(e,i){var r=e.children,a=e.getTriggerDOMNode,s=(0,ye.Yr)(r),l=n.useCallback(function(c){(0,ye.mH)(i,a?a(c):c)},[a]),o=(0,ye.x1)(l,r.ref);return s?n.cloneElement(r,{ref:o}):r}),Rn=Pn,Dn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function An(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nr.Z,i=n.forwardRef(function(r,a){var s=r.prefixCls,l=s===void 0?"rc-trigger-popup":s,o=r.children,c=r.action,d=c===void 0?"hover":c,y=r.showAction,Z=r.hideAction,f=r.popupVisible,b=r.defaultPopupVisible,C=r.onPopupVisibleChange,O=r.afterPopupVisibleChange,ee=r.mouseEnterDelay,F=r.mouseLeaveDelay,te=F===void 0?.1:F,S=r.focusDelay,V=r.blurDelay,re=r.mask,ie=r.maskClosable,oe=ie===void 0?!0:ie,I=r.getPopupContainer,h=r.forceRender,J=r.autoDestroy,R=r.destroyPopupOnHide,Ce=r.popup,Me=r.popupClassName,we=r.popupStyle,N=r.popupPlacement,j=r.builtinPlacements,k=j===void 0?{}:j,le=r.popupAlign,Ze=r.zIndex,U=r.stretch,Y=r.getPopupClassNameFromAlign,D=r.alignPoint,H=r.onPopupClick,X=r.onPopupAlign,q=r.arrow,v=r.popupMotion,G=r.maskMotion,L=r.popupTransitionName,P=r.popupAnimation,W=r.maskTransitionName,Qe=r.maskAnimation,Ne=r.className,ir=r.getTriggerDOMNode,Pe=(0,rr.Z)(r,Dn),or=J||R||!1,Je=n.useState(!1),lr=(0,E.Z)(Je,2),ur=lr[0],sr=lr[1];(0,_.Z)(function(){sr((0,dn.Z)())},[]);var vr=n.useRef({}),ne=n.useContext(qr),$r=n.useMemo(function(){return{registerSubPopup:function(u,g){vr.current[u]=g,ne==null||ne.registerSubPopup(u,g)}}},[ne]),xr=(0,fn.Z)(),cr=n.useState(null),fr=(0,E.Z)(cr,2),z=fr[0],ue=fr[1],B=(0,Ee.Z)(function(t){(0,Be.S)(t)&&z!==t&&ue(t),ne==null||ne.registerSubPopup(xr,t)}),dr=n.useState(null),Ue=(0,E.Z)(dr,2),A=Ue[0],$=Ue[1],x=(0,Ee.Z)(function(t){(0,Be.S)(t)&&A!==t&&$(t)}),se=n.Children.only(o),K=(se==null?void 0:se.props)||{},ve={},gr=(0,Ee.Z)(function(t){var u,g,M=A;return(M==null?void 0:M.contains(t))||(M==null||(u=M.getRootNode())===null||u===void 0?void 0:u.host)===t||t===M||(z==null?void 0:z.contains(t))||(z==null||(g=z.getRootNode())===null||g===void 0?void 0:g.host)===t||t===z||Object.values(vr.current).some(function(w){return(w==null?void 0:w.contains(t))||t===w})}),mr=_r(l,v,P,L),xe=_r(l,G,Qe,W),zr=n.useState(b||!1),hr=(0,E.Z)(zr,2),yr=hr[0],Ge=hr[1],Q=f!=null?f:yr,Re=(0,Ee.Z)(function(t){f===void 0&&Ge(t)});(0,_.Z)(function(){Ge(f||!1)},[f]);var ce=n.useRef(Q);ce.current=Q;var be=(0,Ee.Z)(function(t){Q!==t&&(Re(t),C==null||C(t))}),De=n.useRef(),Ye=function(){clearTimeout(De.current)},ae=function(u){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Ye(),g===0?be(u):De.current=setTimeout(function(){be(u)},g*1e3)};n.useEffect(function(){return Ye},[]);var ze=n.useState(!1),Ae=(0,E.Z)(ze,2),Xe=Ae[0],qe=Ae[1],Te=n.useRef(!0);(0,_.Z)(function(){(!Te.current||Q)&&qe(!0),Te.current=!0},[Q]);var Fe=n.useState(null),Se=(0,E.Z)(Fe,2),fe=Se[0],He=Se[1],Fr=n.useState([0,0]),We=(0,E.Z)(Fr,2),Cr=We[0],Mr=We[1],pe=function(u){Mr([u.clientX,u.clientY])},wr=wn(Q,z,D?Cr:A,N,k,le,X),p=(0,E.Z)(wr,9),Hr=p[0],Wr=p[1],Or=p[2],Ir=p[3],jr=p[4],Br=p[5],Kr=p[6],Oe=p[7],de=p[8],ge=(0,Ee.Z)(function(){Xe||de()});Zn(Q,A,z,ge),(0,_.Z)(function(){ge()},[Cr]),(0,_.Z)(function(){Q&&!(k!=null&&k[N])&&ge()},[JSON.stringify(le)]);var Zr=n.useMemo(function(){var t=Cn(k,l,Oe,D);return me()(t,Y==null?void 0:Y(Oe))},[Oe,Y,k,l,D]);n.useImperativeHandle(a,function(){return{forceAlign:ge}});var Ve=function(u){qe(!1),de(),O==null||O(u)},br=function(){return new Promise(function(u){He(function(){return u})})};(0,_.Z)(function(){fe&&(de(),fe(),He(null))},[fe]);var Sr=n.useState(0),Er=(0,E.Z)(Sr,2),Qr=Er[0],Jr=Er[1],Ur=n.useState(0),Nr=(0,E.Z)(Ur,2),Gr=Nr[0],Bn=Nr[1],Kn=function(u,g){if(ge(),U){var M=g.getBoundingClientRect();Jr(M.width),Bn(M.height)}},Qn=mn(ur,d,y,Z),tn=(0,E.Z)(Qn,2),Pr=tn[0],Rr=tn[1],Dr=function(u,g,M,w){ve[u]=function(Xr){var Ie;w==null||w(Xr),ae(g,M);for(var _e=arguments.length,vn=new Array(_e>1?_e-1:0),Tr=1;Tr<_e;Tr++)vn[Tr-1]=arguments[Tr];(Ie=K[u])===null||Ie===void 0||Ie.call.apply(Ie,[K,Xr].concat(vn))}},on=Pr.has("click"),Ar=Rr.has("click")||Rr.has("contextMenu");(on||Ar)&&(ve.onClick=function(t){var u;ce.current&&Ar?ae(!1):!ce.current&&on&&(pe(t),ae(!0));for(var g=arguments.length,M=new Array(g>1?g-1:0),w=1;w<g;w++)M[w-1]=arguments[w];(u=K.onClick)===null||u===void 0||u.call.apply(u,[K,t].concat(M))}),n.useEffect(function(){if(Ar&&z&&(!re||oe)){var t=function(Ie){var _e=Ie.target;ce.current&&!gr(_e)&&ae(!1)},u=Ke(z),g=A==null?void 0:A.getRootNode();u.addEventListener("click",t);var M=g&&g!==A.ownerDocument;if(M&&g.addEventListener("click",t),!1)var w;return function(){u.removeEventListener("click",t),M&&g.removeEventListener("click",t)}}},[Ar,A,z,re,oe]);var Jn=Pr.has("hover"),Un=Rr.has("hover"),ln,un;Jn&&(Dr("onMouseEnter",!0,ee,function(t){pe(t)}),ln=function(){ae(!0,ee)},D&&(ve.onMouseMove=function(t){var u;(u=K.onMouseMove)===null||u===void 0||u.call(K,t)})),Un&&(Dr("onMouseLeave",!1,te),un=function(){ae(!1,te)}),Pr.has("focus")&&Dr("onFocus",!0,S),Rr.has("focus")&&Dr("onBlur",!1,V),Pr.has("contextMenu")&&(ve.onContextMenu=function(t){var u;pe(t),ae(!0),t.preventDefault();for(var g=arguments.length,M=new Array(g>1?g-1:0),w=1;w<g;w++)M[w-1]=arguments[w];(u=K.onContextMenu)===null||u===void 0||u.call.apply(u,[K,t].concat(M))}),Ne&&(ve.className=me()(K.className,Ne));var Yr=(0,T.Z)((0,T.Z)({},K),ve),sn={},Gn=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Gn.forEach(function(t){Pe[t]&&(sn[t]=function(){for(var u,g=arguments.length,M=new Array(g),w=0;w<g;w++)M[w]=arguments[w];(u=Yr[t])===null||u===void 0||u.call.apply(u,[Yr].concat(M)),Pe[t].apply(Pe,M)})});var Yn=n.cloneElement(se,(0,T.Z)((0,T.Z)({},Yr),sn));return n.createElement(n.Fragment,null,n.createElement(ar.Z,{disabled:!Q,ref:x,onResize:Kn},n.createElement(Rn,{getTriggerDOMNode:ir},Yn)),n.createElement(qr.Provider,{value:$r},n.createElement(Nn,{portal:e,ref:B,prefixCls:l,popup:Ce,className:me()(Me,Zr),style:we,target:A,onMouseEnter:ln,onMouseLeave:un,zIndex:Ze,open:Q,keepDom:Xe,onClick:H,mask:re,motion:mr,maskMotion:xe,onVisibleChanged:Ve,onPrepare:br,forceRender:h,autoDestroy:or,getPopupContainer:I,align:Oe,arrow:q,ready:Hr,offsetX:Wr,offsetY:Or,arrowX:Ir,arrowY:jr,onAlign:ge,stretch:U,targetWidth:Qr/Br,targetHeight:Gr/Kr})))});return i}var Tn=An(nr.Z),an=m(15105),Vn=m(75164),kn=an.Z.ESC,Ln=an.Z.TAB;function $n(e){var i=e.visible,r=e.triggerRef,a=e.onVisibleChange,s=e.autoFocus,l=e.overlayRef,o=n.useRef(!1),c=function(){if(i){var f,b;(f=r.current)===null||f===void 0||(b=f.focus)===null||b===void 0||b.call(f),a==null||a(!1)}},d=function(){var f;return(f=l.current)!==null&&f!==void 0&&f.focus?(l.current.focus(),o.current=!0,!0):!1},y=function(f){switch(f.keyCode){case kn:c();break;case Ln:{var b=!1;o.current||(b=d()),b?f.preventDefault():c();break}}};n.useEffect(function(){return i?(window.addEventListener("keydown",y),s&&(0,Vn.Z)(d,3),function(){window.removeEventListener("keydown",y),o.current=!1}):function(){o.current=!1}},[i])}var xn=(0,n.forwardRef)(function(e,i){var r=e.overlay,a=e.arrow,s=e.prefixCls,l=(0,n.useMemo)(function(){var c;return typeof r=="function"?c=r():c=r,c},[r]),o=(0,ye.sQ)(i,l==null?void 0:l.ref);return n.createElement(n.Fragment,null,a&&n.createElement("div",{className:"".concat(s,"-arrow")}),n.cloneElement(l,{ref:(0,ye.Yr)(l)?o:void 0}))}),zn=xn,Le={adjustX:1,adjustY:1},$e=[0,0],Fn={topLeft:{points:["bl","tl"],overflow:Le,offset:[0,-4],targetOffset:$e},top:{points:["bc","tc"],overflow:Le,offset:[0,-4],targetOffset:$e},topRight:{points:["br","tr"],overflow:Le,offset:[0,-4],targetOffset:$e},bottomLeft:{points:["tl","bl"],overflow:Le,offset:[0,4],targetOffset:$e},bottom:{points:["tc","bc"],overflow:Le,offset:[0,4],targetOffset:$e},bottomRight:{points:["tr","br"],overflow:Le,offset:[0,4],targetOffset:$e}},Hn=Fn,Wn=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function On(e,i){var r,a=e.arrow,s=a===void 0?!1:a,l=e.prefixCls,o=l===void 0?"rc-dropdown":l,c=e.transitionName,d=e.animation,y=e.align,Z=e.placement,f=Z===void 0?"bottomLeft":Z,b=e.placements,C=b===void 0?Hn:b,O=e.getPopupContainer,ee=e.showAction,F=e.hideAction,te=e.overlayClassName,S=e.overlayStyle,V=e.visible,re=e.trigger,ie=re===void 0?["hover"]:re,oe=e.autoFocus,I=e.overlay,h=e.children,J=e.onVisibleChange,R=(0,rr.Z)(e,Wn),Ce=n.useState(),Me=(0,E.Z)(Ce,2),we=Me[0],N=Me[1],j="visible"in e?V:we,k=n.useRef(null),le=n.useRef(null),Ze=n.useRef(null);n.useImperativeHandle(i,function(){return k.current});var U=function(P){N(P),J==null||J(P)};$n({visible:j,triggerRef:Ze,onVisibleChange:U,autoFocus:oe,overlayRef:le});var Y=function(P){var W=e.onOverlayClick;N(!1),W&&W(P)},D=function(){return n.createElement(zn,{ref:le,overlay:I,prefixCls:o,arrow:s})},H=function(){return typeof I=="function"?D:D()},X=function(){var P=e.minOverlayWidthMatchTrigger,W=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?P:!W},q=function(){var P=e.openClassName;return P!==void 0?P:"".concat(o,"-open")},v=n.cloneElement(h,{className:me()((r=h.props)===null||r===void 0?void 0:r.className,j&&q()),ref:(0,ye.Yr)(h)?(0,ye.sQ)(Ze,h.ref):void 0}),G=F;return!G&&ie.indexOf("contextMenu")!==-1&&(G=["click"]),n.createElement(Tn,(0,je.Z)({builtinPlacements:C},R,{prefixCls:o,ref:k,popupClassName:me()(te,(0,er.Z)({},"".concat(o,"-show-arrow"),s)),popupStyle:S,action:ie,showAction:ee,hideAction:G,popupPlacement:f,popupAlign:y,popupTransitionName:c,popupAnimation:d,popupVisible:j,stretch:X()?"minWidth":"",popup:H(),onPopupVisibleChange:U,onPopupClick:Y,getPopupContainer:O}),v)}var In=n.forwardRef(On),jn=In}}]);
