(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[3917],{3917:function(x,Z,c){"use strict";c.d(Z,{Z:function(){return De}});var t=c(70655),f=c(67294),E=c(77598),C=function(e,n){var r=n.manual,u=n.ready,a=u===void 0?!0:u,o=n.defaultParams,s=o===void 0?[]:o,d=n.refreshDeps,l=d===void 0?[]:d,i=n.refreshDepsAction,p=(0,f.useRef)(!1);return p.current=!1,(0,E.Z)(function(){!r&&a&&(p.current=!0,e.run.apply(e,(0,t.ev)([],(0,t.CR)(s),!1)))},[a]),(0,E.Z)(function(){p.current||r||(p.current=!0,i?i():e.refresh())},(0,t.ev)([],(0,t.CR)(l),!1)),{onBefore:function(){if(!a)return{stopNow:!0}}}};C.onInit=function(e){var n=e.ready,r=n===void 0?!0:n,u=e.manual;return{loading:!u&&r}};var A=C,D=c(27918),O=c(45210),w=new Map,T=function(e,n,r){var u=w.get(e);u!=null&&u.timer&&clearTimeout(u.timer);var a=void 0;n>-1&&(a=setTimeout(function(){w.delete(e)},n)),w.set(e,(0,t.pi)((0,t.pi)({},r),{timer:a}))},h=function(e){return w.get(e)},W=function(e){if(e){var n=Array.isArray(e)?e:[e];n.forEach(function(r){return w.delete(r)})}else w.clear()},S=new Map,G=function(e){return S.get(e)},M=function(e,n){S.set(e,n),n.then(function(r){return S.delete(e),r}).catch(function(){S.delete(e)})},y={},L=function(e,n){y[e]&&y[e].forEach(function(r){return r(n)})},B=function(e,n){return y[e]||(y[e]=[]),y[e].push(n),function(){var u=y[e].indexOf(n);y[e].splice(u,1)}},q=function(e,n){var r=n.cacheKey,u=n.cacheTime,a=u===void 0?5*60*1e3:u,o=n.staleTime,s=o===void 0?0:o,d=n.setCache,l=n.getCache,i=(0,f.useRef)(),p=(0,f.useRef)(),g=function(v,m){d?d(m):T(v,a,m),L(v,m.data)},R=function(v,m){return m===void 0&&(m=[]),l?l(m):h(v)};return(0,D.Z)(function(){if(r){var v=R(r);v&&Object.hasOwnProperty.call(v,"data")&&(e.state.data=v.data,e.state.params=v.params,(s===-1||new Date().getTime()-v.time<=s)&&(e.state.loading=!1)),i.current=B(r,function(m){e.setState({data:m})})}},[]),(0,O.Z)(function(){var v;(v=i.current)===null||v===void 0||v.call(i)}),r?{onBefore:function(v){var m=R(r,v);return!m||!Object.hasOwnProperty.call(m,"data")?{}:s===-1||new Date().getTime()-m.time<=s?{loading:!1,data:m==null?void 0:m.data,error:void 0,returnNow:!0}:{data:m==null?void 0:m.data,error:void 0}},onRequest:function(v,m){var P=G(r);return P&&P!==p.current?{servicePromise:P}:(P=v.apply(void 0,(0,t.ev)([],(0,t.CR)(m),!1)),p.current=P,M(r,P),{servicePromise:P})},onSuccess:function(v,m){var P;r&&((P=i.current)===null||P===void 0||P.call(i),g(r,{data:v,params:m,time:new Date().getTime()}),i.current=B(r,function(ne){e.setState({data:ne})}))},onMutate:function(v){var m;r&&((m=i.current)===null||m===void 0||m.call(i),g(r,{data:v,params:e.state.params,time:new Date().getTime()}),i.current=B(r,function(P){e.setState({data:P})}))}}:{}},N=q,z=c(23279),J=c.n(z),te=function(e,n){var r=n.debounceWait,u=n.debounceLeading,a=n.debounceTrailing,o=n.debounceMaxWait,s=(0,f.useRef)(),d=(0,f.useMemo)(function(){var l={};return u!==void 0&&(l.leading=u),a!==void 0&&(l.trailing=a),o!==void 0&&(l.maxWait=o),l},[u,a,o]);return(0,f.useEffect)(function(){if(r){var l=e.runAsync.bind(e);return s.current=J()(function(i){i()},r,d),e.runAsync=function(){for(var i=[],p=0;p<arguments.length;p++)i[p]=arguments[p];return new Promise(function(g,R){var v;(v=s.current)===null||v===void 0||v.call(s,function(){l.apply(void 0,(0,t.ev)([],(0,t.CR)(i),!1)).then(g).catch(R)})})},function(){var i;(i=s.current)===null||i===void 0||i.cancel(),e.runAsync=l}}},[r,d]),r?{onCancel:function(){var l;(l=s.current)===null||l===void 0||l.cancel()}}:{}},ie=te,_=function(e,n){var r=n.loadingDelay,u=n.ready,a=(0,f.useRef)();if(!r)return{};var o=function(){a.current&&clearTimeout(a.current)};return{onBefore:function(){return o(),u!==!1&&(a.current=setTimeout(function(){e.setState({loading:!0})},r)),{loading:!1}},onFinally:function(){o()},onCancel:function(){o()}}},$=_,j=c(52982);function K(){return j.Z?document.visibilityState!=="hidden":!0}var H=[];function Q(e){return H.push(e),function(){var r=H.indexOf(e);H.splice(r,1)}}if(j.Z){var b=function(){if(K())for(var e=0;e<H.length;e++){var n=H[e];n()}};window.addEventListener("visibilitychange",b,!1)}var F=Q,I=function(e,n){var r=n.pollingInterval,u=n.pollingWhenHidden,a=u===void 0?!0:u,o=n.pollingErrorRetryCount,s=o===void 0?-1:o,d=(0,f.useRef)(),l=(0,f.useRef)(),i=(0,f.useRef)(0),p=function(){var g;d.current&&clearTimeout(d.current),(g=l.current)===null||g===void 0||g.call(l)};return(0,E.Z)(function(){r||p()},[r]),r?{onBefore:function(){p()},onError:function(){i.current+=1},onSuccess:function(){i.current=0},onFinally:function(){s===-1||s!==-1&&i.current<=s?d.current=setTimeout(function(){!a&&!K()?l.current=F(function(){e.refresh()}):e.refresh()},r):i.current=0},onCancel:function(){p()}}:{}},ee=I;function fe(e,n){var r=!1;return function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];r||(r=!0,e.apply(void 0,(0,t.ev)([],(0,t.CR)(u),!1)),setTimeout(function(){r=!1},n))}}function le(){return j.Z&&typeof navigator.onLine!="undefined"?navigator.onLine:!0}var Y=[];function de(e){return Y.push(e),function(){var r=Y.indexOf(e);r>-1&&Y.splice(r,1)}}if(j.Z){var oe=function(){if(!(!K()||!le()))for(var e=0;e<Y.length;e++){var n=Y[e];n()}};window.addEventListener("visibilitychange",oe,!1),window.addEventListener("focus",oe,!1)}var ve=de,me=function(e,n){var r=n.refreshOnWindowFocus,u=n.focusTimespan,a=u===void 0?5e3:u,o=(0,f.useRef)(),s=function(){var d;(d=o.current)===null||d===void 0||d.call(o)};return(0,f.useEffect)(function(){if(r){var d=fe(e.refresh.bind(e),a);o.current=ve(function(){d()})}return function(){s()}},[r,a]),(0,O.Z)(function(){s()}),{}},ge=me,he=function(e,n){var r=n.retryInterval,u=n.retryCount,a=(0,f.useRef)(),o=(0,f.useRef)(0),s=(0,f.useRef)(!1);return u?{onBefore:function(){s.current||(o.current=0),s.current=!1,a.current&&clearTimeout(a.current)},onSuccess:function(){o.current=0},onError:function(){if(o.current+=1,u===-1||o.current<=u){var d=r!=null?r:Math.min(1e3*Math.pow(2,o.current),3e4);a.current=setTimeout(function(){s.current=!0,e.refresh()},d)}else o.current=0},onCancel:function(){o.current=0,a.current&&clearTimeout(a.current)}}:{}},pe=he,be=c(23493),ye=c.n(be),Re=function(e,n){var r=n.throttleWait,u=n.throttleLeading,a=n.throttleTrailing,o=(0,f.useRef)(),s={};return u!==void 0&&(s.leading=u),a!==void 0&&(s.trailing=a),(0,f.useEffect)(function(){if(r){var d=e.runAsync.bind(e);return o.current=ye()(function(l){l()},r,s),e.runAsync=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];return new Promise(function(p,g){var R;(R=o.current)===null||R===void 0||R.call(o,function(){d.apply(void 0,(0,t.ev)([],(0,t.CR)(l),!1)).then(p).catch(g)})})},function(){var l;e.runAsync=d,(l=o.current)===null||l===void 0||l.cancel()}}},[r,u,a]),r?{onCancel:function(){var d;(d=o.current)===null||d===void 0||d.cancel()}}:{}},Pe=Re,Ce=c(3930),X=c(22638),Te=c(78234),xe=c(90105),we=c(31663),Ee=c(92770),Oe=function(){function e(n,r,u,a){a===void 0&&(a={}),this.serviceRef=n,this.options=r,this.subscribe=u,this.initState=a,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,t.pi)((0,t.pi)((0,t.pi)({},this.state),{loading:!r.manual}),a)}return e.prototype.setState=function(n){n===void 0&&(n={}),this.state=(0,t.pi)((0,t.pi)({},this.state),n),this.subscribe()},e.prototype.runPluginHandler=function(n){for(var r=[],u=1;u<arguments.length;u++)r[u-1]=arguments[u];var a=this.pluginImpls.map(function(o){var s;return(s=o[n])===null||s===void 0?void 0:s.call.apply(s,(0,t.ev)([o],(0,t.CR)(r),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,t.ev)([{}],(0,t.CR)(a),!1))},e.prototype.runAsync=function(){for(var n,r,u,a,o,s,d,l,i,p,g=[],R=0;R<arguments.length;R++)g[R]=arguments[R];return(0,t.mG)(this,void 0,void 0,function(){var v,m,P,ne,ue,se,ae,re,U,V,ce;return(0,t.Jh)(this,function(k){switch(k.label){case 0:if(this.count+=1,v=this.count,m=this.runPluginHandler("onBefore",g),P=m.stopNow,ne=P===void 0?!1:P,ue=m.returnNow,se=ue===void 0?!1:ue,ae=(0,t._T)(m,["stopNow","returnNow"]),ne)return[2,new Promise(function(){})];if(this.setState((0,t.pi)({loading:!0,params:g},ae)),se)return[2,Promise.resolve(ae.data)];(r=(n=this.options).onBefore)===null||r===void 0||r.call(n,g),k.label=1;case 1:return k.trys.push([1,3,,4]),re=this.runPluginHandler("onRequest",this.serviceRef.current,g).servicePromise,re||(re=(ce=this.serviceRef).current.apply(ce,(0,t.ev)([],(0,t.CR)(g),!1))),[4,re];case 2:return U=k.sent(),v!==this.count?[2,new Promise(function(){})]:(this.setState({data:U,error:void 0,loading:!1}),(a=(u=this.options).onSuccess)===null||a===void 0||a.call(u,U,g),this.runPluginHandler("onSuccess",U,g),(s=(o=this.options).onFinally)===null||s===void 0||s.call(o,g,U,void 0),v===this.count&&this.runPluginHandler("onFinally",g,U,void 0),[2,U]);case 3:if(V=k.sent(),v!==this.count)return[2,new Promise(function(){})];throw this.setState({error:V,loading:!1}),(l=(d=this.options).onError)===null||l===void 0||l.call(d,V,g),this.runPluginHandler("onError",V,g),(p=(i=this.options).onFinally)===null||p===void 0||p.call(i,g,void 0,V),v===this.count&&this.runPluginHandler("onFinally",g,void 0,V),V;case 4:return[2]}})})},e.prototype.run=function(){for(var n=this,r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];this.runAsync.apply(this,(0,t.ev)([],(0,t.CR)(r),!1)).catch(function(a){n.options.onError||console.error(a)})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,t.ev)([],(0,t.CR)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,t.ev)([],(0,t.CR)(this.state.params||[]),!1))},e.prototype.mutate=function(n){var r=(0,Ee.mf)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",r),this.setState({data:r})},e}(),Se=Oe;function Ae(e,n,r){n===void 0&&(n={}),r===void 0&&(r=[]);var u=n.manual,a=u===void 0?!1:u,o=(0,t._T)(n,["manual"]);we.Z&&n.defaultParams&&!Array.isArray(n.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof n.defaultParams));var s=(0,t.pi)({manual:a},o),d=(0,Ce.Z)(e),l=(0,xe.Z)(),i=(0,D.Z)(function(){var p=r.map(function(g){var R;return(R=g==null?void 0:g.onInit)===null||R===void 0?void 0:R.call(g,s)}).filter(Boolean);return new Se(d,s,l,Object.assign.apply(Object,(0,t.ev)([{}],(0,t.CR)(p),!1)))},[]);return i.options=s,i.pluginImpls=r.map(function(p){return p(i,s)}),(0,Te.Z)(function(){if(!a){var p=i.state.params||n.defaultParams||[];i.run.apply(i,(0,t.ev)([],(0,t.CR)(p),!1))}}),(0,O.Z)(function(){i.cancel()}),{loading:i.state.loading,data:i.state.data,error:i.state.error,params:i.state.params||[],cancel:(0,X.Z)(i.cancel.bind(i)),refresh:(0,X.Z)(i.refresh.bind(i)),refreshAsync:(0,X.Z)(i.refreshAsync.bind(i)),run:(0,X.Z)(i.run.bind(i)),runAsync:(0,X.Z)(i.runAsync.bind(i)),mutate:(0,X.Z)(i.mutate.bind(i))}}var Ze=Ae;function We(e,n,r){return Ze(e,n,(0,t.ev)((0,t.ev)([],(0,t.CR)(r||[]),!1),[ie,$,ee,ge,Pe,A,N,pe],!1))}var Fe=We,De=Fe},52982:function(x,Z){"use strict";var c=!!(typeof window!="undefined"&&window.document&&window.document.createElement);Z.Z=c},4107:function(x,Z,c){var t=c(67990),f=/^\s+/;function E(C){return C&&C.slice(0,t(C)+1).replace(f,"")}x.exports=E},67990:function(x){var Z=/\s/;function c(t){for(var f=t.length;f--&&Z.test(t.charAt(f)););return f}x.exports=c},23279:function(x,Z,c){var t=c(13218),f=c(7771),E=c(14841),C="Expected a function",A=Math.max,D=Math.min;function O(w,T,h){var W,S,G,M,y,L,B=0,q=!1,N=!1,z=!0;if(typeof w!="function")throw new TypeError(C);T=E(T)||0,t(h)&&(q=!!h.leading,N="maxWait"in h,G=N?A(E(h.maxWait)||0,T):G,z="trailing"in h?!!h.trailing:z);function J(b){var F=W,I=S;return W=S=void 0,B=b,M=w.apply(I,F),M}function te(b){return B=b,y=setTimeout($,T),q?J(b):M}function ie(b){var F=b-L,I=b-B,ee=T-F;return N?D(ee,G-I):ee}function _(b){var F=b-L,I=b-B;return L===void 0||F>=T||F<0||N&&I>=G}function $(){var b=f();if(_(b))return j(b);y=setTimeout($,ie(b))}function j(b){return y=void 0,z&&W?J(b):(W=S=void 0,M)}function K(){y!==void 0&&clearTimeout(y),B=0,W=L=S=y=void 0}function H(){return y===void 0?M:j(f())}function Q(){var b=f(),F=_(b);if(W=arguments,S=this,L=b,F){if(y===void 0)return te(L);if(N)return clearTimeout(y),y=setTimeout($,T),J(L)}return y===void 0&&(y=setTimeout($,T)),M}return Q.cancel=K,Q.flush=H,Q}x.exports=O},33448:function(x,Z,c){var t=c(44239),f=c(37005),E="[object Symbol]";function C(A){return typeof A=="symbol"||f(A)&&t(A)==E}x.exports=C},7771:function(x,Z,c){var t=c(55639),f=function(){return t.Date.now()};x.exports=f},23493:function(x,Z,c){var t=c(23279),f=c(13218),E="Expected a function";function C(A,D,O){var w=!0,T=!0;if(typeof A!="function")throw new TypeError(E);return f(O)&&(w="leading"in O?!!O.leading:w,T="trailing"in O?!!O.trailing:T),t(A,D,{leading:w,maxWait:D,trailing:T})}x.exports=C},14841:function(x,Z,c){var t=c(4107),f=c(13218),E=c(33448),C=0/0,A=/^[-+]0x[0-9a-f]+$/i,D=/^0b[01]+$/i,O=/^0o[0-7]+$/i,w=parseInt;function T(h){if(typeof h=="number")return h;if(E(h))return C;if(f(h)){var W=typeof h.valueOf=="function"?h.valueOf():h;h=f(W)?W+"":W}if(typeof h!="string")return h===0?h:+h;h=t(h);var S=D.test(h);return S||O.test(h)?w(h.slice(2),S?2:8):A.test(h)?C:+h}x.exports=T}}]);
