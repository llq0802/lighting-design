(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[3917],{3917:function(w,Z,c){"use strict";c.d(Z,{Z:function(){return De}});var i=c(97582),l=c(67294),O=c(77598),x=function(e,n){var r=n.manual,u=n.ready,a=u===void 0?!0:u,o=n.defaultParams,s=o===void 0?[]:o,d=n.refreshDeps,f=d===void 0?[]:d,t=n.refreshDepsAction,p=(0,l.useRef)(!1);return p.current=!1,(0,O.Z)(function(){!r&&a&&(p.current=!0,e.run.apply(e,(0,i.ev)([],(0,i.CR)(s),!1)))},[a]),(0,O.Z)(function(){p.current||r||(p.current=!0,t?t():e.refresh())},(0,i.ev)([],(0,i.CR)(f),!1)),{onBefore:function(){if(!a)return{stopNow:!0}}}};x.onInit=function(e){var n=e.ready,r=n===void 0?!0:n,u=e.manual;return{loading:!u&&r}};var B=x,F=c(27918),E=c(45210),T=new Map,C=function(e,n,r){var u=T.get(e);u!=null&&u.timer&&clearTimeout(u.timer);var a=void 0;n>-1&&(a=setTimeout(function(){T.delete(e)},n)),T.set(e,(0,i.pi)((0,i.pi)({},r),{timer:a}))},h=function(e){return T.get(e)},S=function(e){if(e){var n=Array.isArray(e)?e:[e];n.forEach(function(r){return T.delete(r)})}else T.clear()},A=new Map,$=function(e){return A.get(e)},M=function(e,n){A.set(e,n),n.then(function(r){return A.delete(e),r}).catch(function(){A.delete(e)})},y={},D=function(e,n){y[e]&&y[e].forEach(function(r){return r(n)})},L=function(e,n){return y[e]||(y[e]=[]),y[e].push(n),function(){var u=y[e].indexOf(n);y[e].splice(u,1)}},q=function(e,n){var r=n.cacheKey,u=n.cacheTime,a=u===void 0?5*60*1e3:u,o=n.staleTime,s=o===void 0?0:o,d=n.setCache,f=n.getCache,t=(0,l.useRef)(),p=(0,l.useRef)(),g=function(v,m){d?d(m):C(v,a,m),D(v,m.data)},R=function(v,m){return m===void 0&&(m=[]),f?f(m):h(v)};return(0,F.Z)(function(){if(r){var v=R(r);v&&Object.hasOwnProperty.call(v,"data")&&(e.state.data=v.data,e.state.params=v.params,(s===-1||new Date().getTime()-v.time<=s)&&(e.state.loading=!1)),t.current=L(r,function(m){e.setState({data:m})})}},[]),(0,E.Z)(function(){var v;(v=t.current)===null||v===void 0||v.call(t)}),r?{onBefore:function(v){var m=R(r,v);return!m||!Object.hasOwnProperty.call(m,"data")?{}:s===-1||new Date().getTime()-m.time<=s?{loading:!1,data:m==null?void 0:m.data,error:void 0,returnNow:!0}:{data:m==null?void 0:m.data,error:void 0}},onRequest:function(v,m){var P=$(r);return P&&P!==p.current?{servicePromise:P}:(P=v.apply(void 0,(0,i.ev)([],(0,i.CR)(m),!1)),p.current=P,M(r,P),{servicePromise:P})},onSuccess:function(v,m){var P;r&&((P=t.current)===null||P===void 0||P.call(t),g(r,{data:v,params:m,time:new Date().getTime()}),t.current=L(r,function(ne){e.setState({data:ne})}))},onMutate:function(v){var m;r&&((m=t.current)===null||m===void 0||m.call(t),g(r,{data:v,params:e.state.params,time:new Date().getTime()}),t.current=L(r,function(P){e.setState({data:P})}))}}:{}},N=q,z=c(23279),J=c.n(z),te=function(e,n){var r=n.debounceWait,u=n.debounceLeading,a=n.debounceTrailing,o=n.debounceMaxWait,s=(0,l.useRef)(),d=(0,l.useMemo)(function(){var f={};return u!==void 0&&(f.leading=u),a!==void 0&&(f.trailing=a),o!==void 0&&(f.maxWait=o),f},[u,a,o]);return(0,l.useEffect)(function(){if(r){var f=e.runAsync.bind(e);return s.current=J()(function(t){t()},r,d),e.runAsync=function(){for(var t=[],p=0;p<arguments.length;p++)t[p]=arguments[p];return new Promise(function(g,R){var v;(v=s.current)===null||v===void 0||v.call(s,function(){f.apply(void 0,(0,i.ev)([],(0,i.CR)(t),!1)).then(g).catch(R)})})},function(){var t;(t=s.current)===null||t===void 0||t.cancel(),e.runAsync=f}}},[r,d]),r?{onCancel:function(){var f;(f=s.current)===null||f===void 0||f.cancel()}}:{}},ie=te,_=function(e,n){var r=n.loadingDelay,u=n.ready,a=(0,l.useRef)();if(!r)return{};var o=function(){a.current&&clearTimeout(a.current)};return{onBefore:function(){return o(),u!==!1&&(a.current=setTimeout(function(){e.setState({loading:!0})},r)),{loading:!1}},onFinally:function(){o()},onCancel:function(){o()}}},G=_,H=c(52982);function K(){return H.Z?document.visibilityState!=="hidden":!0}var j=[];function Q(e){return j.push(e),function(){var r=j.indexOf(e);j.splice(r,1)}}if(H.Z){var b=function(){if(K())for(var e=0;e<j.length;e++){var n=j[e];n()}};window.addEventListener("visibilitychange",b,!1)}var W=Q,I=function(e,n){var r=n.pollingInterval,u=n.pollingWhenHidden,a=u===void 0?!0:u,o=n.pollingErrorRetryCount,s=o===void 0?-1:o,d=(0,l.useRef)(),f=(0,l.useRef)(),t=(0,l.useRef)(0),p=function(){var g;d.current&&clearTimeout(d.current),(g=f.current)===null||g===void 0||g.call(f)};return(0,O.Z)(function(){r||p()},[r]),r?{onBefore:function(){p()},onError:function(){t.current+=1},onSuccess:function(){t.current=0},onFinally:function(){s===-1||s!==-1&&t.current<=s?d.current=setTimeout(function(){!a&&!K()?f.current=W(function(){e.refresh()}):e.refresh()},r):t.current=0},onCancel:function(){p()}}:{}},ee=I;function fe(e,n){var r=!1;return function(){for(var u=[],a=0;a<arguments.length;a++)u[a]=arguments[a];r||(r=!0,e.apply(void 0,(0,i.ev)([],(0,i.CR)(u),!1)),setTimeout(function(){r=!1},n))}}function le(){return H.Z&&typeof navigator.onLine!="undefined"?navigator.onLine:!0}var Y=[];function de(e){return Y.push(e),function(){var r=Y.indexOf(e);r>-1&&Y.splice(r,1)}}if(H.Z){var oe=function(){if(!(!K()||!le()))for(var e=0;e<Y.length;e++){var n=Y[e];n()}};window.addEventListener("visibilitychange",oe,!1),window.addEventListener("focus",oe,!1)}var ve=de,me=function(e,n){var r=n.refreshOnWindowFocus,u=n.focusTimespan,a=u===void 0?5e3:u,o=(0,l.useRef)(),s=function(){var d;(d=o.current)===null||d===void 0||d.call(o)};return(0,l.useEffect)(function(){if(r){var d=fe(e.refresh.bind(e),a);o.current=ve(function(){d()})}return function(){s()}},[r,a]),(0,E.Z)(function(){s()}),{}},ge=me,he=function(e,n){var r=n.retryInterval,u=n.retryCount,a=(0,l.useRef)(),o=(0,l.useRef)(0),s=(0,l.useRef)(!1);return u?{onBefore:function(){s.current||(o.current=0),s.current=!1,a.current&&clearTimeout(a.current)},onSuccess:function(){o.current=0},onError:function(){if(o.current+=1,u===-1||o.current<=u){var d=r!=null?r:Math.min(1e3*Math.pow(2,o.current),3e4);a.current=setTimeout(function(){s.current=!0,e.refresh()},d)}else o.current=0},onCancel:function(){o.current=0,a.current&&clearTimeout(a.current)}}:{}},pe=he,be=c(23493),ye=c.n(be),Re=function(e,n){var r=n.throttleWait,u=n.throttleLeading,a=n.throttleTrailing,o=(0,l.useRef)(),s={};return u!==void 0&&(s.leading=u),a!==void 0&&(s.trailing=a),(0,l.useEffect)(function(){if(r){var d=e.runAsync.bind(e);return o.current=ye()(function(f){f()},r,s),e.runAsync=function(){for(var f=[],t=0;t<arguments.length;t++)f[t]=arguments[t];return new Promise(function(p,g){var R;(R=o.current)===null||R===void 0||R.call(o,function(){d.apply(void 0,(0,i.ev)([],(0,i.CR)(f),!1)).then(p).catch(g)})})},function(){var f;e.runAsync=d,(f=o.current)===null||f===void 0||f.cancel()}}},[r,u,a]),r?{onCancel:function(){var d;(d=o.current)===null||d===void 0||d.cancel()}}:{}},Pe=Re,Ce=c(3930),X=c(22638),Te=c(78234),xe=c(90105),we=c(31663),Ee=c(92770),Ae=function(){function e(n,r,u,a){a===void 0&&(a={}),this.serviceRef=n,this.options=r,this.subscribe=u,this.initState=a,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,i.pi)((0,i.pi)((0,i.pi)({},this.state),{loading:!r.manual}),a)}return e.prototype.setState=function(n){n===void 0&&(n={}),this.state=(0,i.pi)((0,i.pi)({},this.state),n),this.subscribe()},e.prototype.runPluginHandler=function(n){for(var r=[],u=1;u<arguments.length;u++)r[u-1]=arguments[u];var a=this.pluginImpls.map(function(o){var s;return(s=o[n])===null||s===void 0?void 0:s.call.apply(s,(0,i.ev)([o],(0,i.CR)(r),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,i.ev)([{}],(0,i.CR)(a),!1))},e.prototype.runAsync=function(){for(var n,r,u,a,o,s,d,f,t,p,g=[],R=0;R<arguments.length;R++)g[R]=arguments[R];return(0,i.mG)(this,void 0,void 0,function(){var v,m,P,ne,ue,se,ae,re,U,V,ce;return(0,i.Jh)(this,function(k){switch(k.label){case 0:if(this.count+=1,v=this.count,m=this.runPluginHandler("onBefore",g),P=m.stopNow,ne=P===void 0?!1:P,ue=m.returnNow,se=ue===void 0?!1:ue,ae=(0,i._T)(m,["stopNow","returnNow"]),ne)return[2,new Promise(function(){})];if(this.setState((0,i.pi)({loading:!0,params:g},ae)),se)return[2,Promise.resolve(ae.data)];(r=(n=this.options).onBefore)===null||r===void 0||r.call(n,g),k.label=1;case 1:return k.trys.push([1,3,,4]),re=this.runPluginHandler("onRequest",this.serviceRef.current,g).servicePromise,re||(re=(ce=this.serviceRef).current.apply(ce,(0,i.ev)([],(0,i.CR)(g),!1))),[4,re];case 2:return U=k.sent(),v!==this.count?[2,new Promise(function(){})]:(this.setState({data:U,error:void 0,loading:!1}),(a=(u=this.options).onSuccess)===null||a===void 0||a.call(u,U,g),this.runPluginHandler("onSuccess",U,g),(s=(o=this.options).onFinally)===null||s===void 0||s.call(o,g,U,void 0),v===this.count&&this.runPluginHandler("onFinally",g,U,void 0),[2,U]);case 3:if(V=k.sent(),v!==this.count)return[2,new Promise(function(){})];throw this.setState({error:V,loading:!1}),(f=(d=this.options).onError)===null||f===void 0||f.call(d,V,g),this.runPluginHandler("onError",V,g),(p=(t=this.options).onFinally)===null||p===void 0||p.call(t,g,void 0,V),v===this.count&&this.runPluginHandler("onFinally",g,void 0,V),V;case 4:return[2]}})})},e.prototype.run=function(){for(var n=this,r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];this.runAsync.apply(this,(0,i.ev)([],(0,i.CR)(r),!1)).catch(function(a){n.options.onError||console.error(a)})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,i.ev)([],(0,i.CR)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,i.ev)([],(0,i.CR)(this.state.params||[]),!1))},e.prototype.mutate=function(n){var r=(0,Ee.mf)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",r),this.setState({data:r})},e}(),Oe=Ae;function Se(e,n,r){n===void 0&&(n={}),r===void 0&&(r=[]);var u=n.manual,a=u===void 0?!1:u,o=(0,i._T)(n,["manual"]);we.Z&&n.defaultParams&&!Array.isArray(n.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof n.defaultParams));var s=(0,i.pi)({manual:a},o),d=(0,Ce.Z)(e),f=(0,xe.Z)(),t=(0,F.Z)(function(){var p=r.map(function(g){var R;return(R=g==null?void 0:g.onInit)===null||R===void 0?void 0:R.call(g,s)}).filter(Boolean);return new Oe(d,s,f,Object.assign.apply(Object,(0,i.ev)([{}],(0,i.CR)(p),!1)))},[]);return t.options=s,t.pluginImpls=r.map(function(p){return p(t,s)}),(0,Te.Z)(function(){if(!a){var p=t.state.params||n.defaultParams||[];t.run.apply(t,(0,i.ev)([],(0,i.CR)(p),!1))}}),(0,E.Z)(function(){t.cancel()}),{loading:t.state.loading,data:t.state.data,error:t.state.error,params:t.state.params||[],cancel:(0,X.Z)(t.cancel.bind(t)),refresh:(0,X.Z)(t.refresh.bind(t)),refreshAsync:(0,X.Z)(t.refreshAsync.bind(t)),run:(0,X.Z)(t.run.bind(t)),runAsync:(0,X.Z)(t.runAsync.bind(t)),mutate:(0,X.Z)(t.mutate.bind(t))}}var Ze=Se;function We(e,n,r){return Ze(e,n,(0,i.ev)((0,i.ev)([],(0,i.CR)(r||[]),!1),[ie,G,ee,ge,Pe,B,N,pe],!1))}var Fe=We,De=Fe},52982:function(w,Z){"use strict";var c=!!(typeof window!="undefined"&&window.document&&window.document.createElement);Z.Z=c},4107:function(w,Z,c){var i=c(67990),l=/^\s+/;function O(x){return x&&x.slice(0,i(x)+1).replace(l,"")}w.exports=O},67990:function(w){var Z=/\s/;function c(i){for(var l=i.length;l--&&Z.test(i.charAt(l)););return l}w.exports=c},23279:function(w,Z,c){var i=c(13218),l=c(7771),O=c(14841),x="Expected a function",B=Math.max,F=Math.min;function E(T,C,h){var S,A,$,M,y,D,L=0,q=!1,N=!1,z=!0;if(typeof T!="function")throw new TypeError(x);C=O(C)||0,i(h)&&(q=!!h.leading,N="maxWait"in h,$=N?B(O(h.maxWait)||0,C):$,z="trailing"in h?!!h.trailing:z);function J(b){var W=S,I=A;return S=A=void 0,L=b,M=T.apply(I,W),M}function te(b){return L=b,y=setTimeout(G,C),q?J(b):M}function ie(b){var W=b-D,I=b-L,ee=C-W;return N?F(ee,$-I):ee}function _(b){var W=b-D,I=b-L;return D===void 0||W>=C||W<0||N&&I>=$}function G(){var b=l();if(_(b))return H(b);y=setTimeout(G,ie(b))}function H(b){return y=void 0,z&&S?J(b):(S=A=void 0,M)}function K(){y!==void 0&&clearTimeout(y),L=0,S=D=A=y=void 0}function j(){return y===void 0?M:H(l())}function Q(){var b=l(),W=_(b);if(S=arguments,A=this,D=b,W){if(y===void 0)return te(D);if(N)return clearTimeout(y),y=setTimeout(G,C),J(D)}return y===void 0&&(y=setTimeout(G,C)),M}return Q.cancel=K,Q.flush=j,Q}w.exports=E},7771:function(w,Z,c){var i=c(55639),l=function(){return i.Date.now()};w.exports=l},23493:function(w,Z,c){var i=c(23279),l=c(13218),O="Expected a function";function x(B,F,E){var T=!0,C=!0;if(typeof B!="function")throw new TypeError(O);return l(E)&&(T="leading"in E?!!E.leading:T,C="trailing"in E?!!E.trailing:C),i(B,F,{leading:T,maxWait:F,trailing:C})}w.exports=x},14841:function(w,Z,c){var i=c(4107),l=c(13218),O=c(33448),x=0/0,B=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,E=/^0o[0-7]+$/i,T=parseInt;function C(h){if(typeof h=="number")return h;if(O(h))return x;if(l(h)){var S=typeof h.valueOf=="function"?h.valueOf():h;h=l(S)?S+"":S}if(typeof h!="string")return h===0?h:+h;h=i(h);var A=F.test(h);return A||E.test(h)?T(h.slice(2),A?2:8):B.test(h)?x:+h}w.exports=C}}]);
