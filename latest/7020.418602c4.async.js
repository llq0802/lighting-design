"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[7020],{59919:function(Ze,re,i){i.d(re,{Z:function(){return L}});var n=i(87462),H=i(67294),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},K=ie,Y=i(13401),y=function(ee,B){return H.createElement(Y.Z,(0,n.Z)({},ee,{ref:B,icon:K}))},L=H.forwardRef(y)},29439:function(Ze,re,i){i.d(re,{Z:function(){return L}});var n=i(87462),H=i(67294),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},K=ie,Y=i(13401),y=function(ee,B){return H.createElement(Y.Z,(0,n.Z)({},ee,{ref:B,icon:K}))},L=H.forwardRef(y)},17197:function(Ze,re,i){i.d(re,{Z:function(){return L}});var n=i(87462),H=i(67294),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"},K=ie,Y=i(13401),y=function(ee,B){return H.createElement(Y.Z,(0,n.Z)({},ee,{ref:B,icon:K}))},L=H.forwardRef(y)},17441:function(Ze,re,i){i.d(re,{Z:function(){return L}});var n=i(87462),H=i(67294),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},K=ie,Y=i(13401),y=function(ee,B){return H.createElement(Y.Z,(0,n.Z)({},ee,{ref:B,icon:K}))},L=H.forwardRef(y)},55210:function(Ze,re,i){i.d(re,{Z:function(){return L}});var n=i(87462),H=i(67294),ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},K=ie,Y=i(13401),y=function(ee,B){return H.createElement(Y.Z,(0,n.Z)({},ee,{ref:B,icon:K}))},L=H.forwardRef(y)},57020:function(Ze,re,i){i.d(re,{Z:function(){return rn}});var n=i(67294),H=i(99569),ie=i(13144),K=i.n(ie),Y=i(87462),y=i(1413),L=i(4942),E=i(97685),ee=i(71002),B=i(91),ct=i(94184),de=i.n(ct),$e=i(27678),Ae=i(21770),je=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"],Re=n.createContext(null),ke=0;function ut(t,e){var o=n.useState(function(){return ke+=1,String(ke)}),a=(0,E.Z)(o,1),r=a[0],s=n.useContext(Re),d={data:e,canPreview:t};return n.useEffect(function(){if(s)return s.register(r,d)},[]),n.useEffect(function(){s&&s.register(r,d)},[t,e]),r}function vt(t){return new Promise(function(e){var o=document.createElement("img");o.onerror=function(){return e(!1)},o.onload=function(){return e(!0)},o.src=t})}function We(t){var e=t.src,o=t.isCustomPlaceholder,a=t.fallback,r=(0,n.useState)(o?"loading":"normal"),s=(0,E.Z)(r,2),d=s[0],l=s[1],v=(0,n.useRef)(!1),f=d==="error";(0,n.useEffect)(function(){var C=!0;return vt(e).then(function(g){!g&&C&&l("error")}),function(){C=!1}},[e]),(0,n.useEffect)(function(){o&&!v.current?l("loading"):f&&l("normal")},[e]);var w=function(){l("normal")},c=function(g){v.current=!1,d==="loading"&&g!==null&&g!==void 0&&g.complete&&(g.naturalWidth||g.naturalHeight)&&(v.current=!0,w())},x=f&&a?{src:a}:{onLoad:w,src:e};return[c,x,d]}var ft=i(40974),we=i(64019),De=i(15105),dt=i(91881),mt=i(75164),Ee={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function gt(t,e,o,a){var r=(0,n.useRef)(null),s=(0,n.useRef)([]),d=(0,n.useState)(Ee),l=(0,E.Z)(d,2),v=l[0],f=l[1],w=function(g){f(Ee),a&&!(0,dt.Z)(Ee,v)&&a({transform:Ee,action:g})},c=function(g,Z){r.current===null&&(s.current=[],r.current=(0,mt.Z)(function(){f(function(S){var O=S;return s.current.forEach(function(N){O=(0,y.Z)((0,y.Z)({},O),N)}),r.current=null,a==null||a({transform:O,action:Z}),O})})),s.current.push((0,y.Z)((0,y.Z)({},v),g))},x=function(g,Z,S,O,N){var $=t.current,M=$.width,u=$.height,b=$.offsetWidth,h=$.offsetHeight,m=$.offsetLeft,I=$.offsetTop,R=g,p=v.scale*g;p>o?(p=o,R=o/v.scale):p<e&&(p=N?p:e,R=p/v.scale);var T=S!=null?S:innerWidth/2,X=O!=null?O:innerHeight/2,A=R-1,V=A*M*.5,G=A*u*.5,Q=A*(T-v.x-m),k=A*(X-v.y-I),J=v.x-(Q-V),q=v.y-(k-G);if(g<1&&p===1){var te=b*p,ne=h*p,le=(0,$e.g1)(),ve=le.width,W=le.height;te<=ve&&ne<=W&&(J=0,q=0)}c({x:J,y:q,scale:p},Z)};return{transform:v,resetTransform:w,updateTransform:c,dispatchZoomChange:x}}var ht=i(80334);function Ge(t,e,o,a){var r=e+o,s=(o-a)/2;if(o>a){if(e>0)return(0,L.Z)({},t,s);if(e<0&&r<a)return(0,L.Z)({},t,-s)}else if(e<0||r>a)return(0,L.Z)({},t,e<0?s:-s);return{}}function Fe(t,e,o,a){var r=(0,$e.g1)(),s=r.width,d=r.height,l=null;return t<=s&&e<=d?l={x:0,y:0}:(t>s||e>d)&&(l=(0,y.Z)((0,y.Z)({},Ge("x",o,t,s)),Ge("y",a,e,d))),l}var Se=1,Ct=1;function pt(t,e,o,a,r,s,d){var l=r.rotate,v=r.scale,f=r.x,w=r.y,c=(0,n.useState)(!1),x=(0,E.Z)(c,2),C=x[0],g=x[1],Z=(0,n.useRef)({diffX:0,diffY:0,transformX:0,transformY:0}),S=function(u){!e||u.button!==0||(u.preventDefault(),u.stopPropagation(),Z.current={diffX:u.pageX-f,diffY:u.pageY-w,transformX:f,transformY:w},g(!0))},O=function(u){o&&C&&s({x:u.pageX-Z.current.diffX,y:u.pageY-Z.current.diffY},"move")},N=function(){if(o&&C){g(!1);var u=Z.current,b=u.transformX,h=u.transformY,m=f!==b&&w!==h;if(!m)return;var I=t.current.offsetWidth*v,R=t.current.offsetHeight*v,p=t.current.getBoundingClientRect(),T=p.left,X=p.top,A=l%180!==0,V=Fe(A?R:I,A?I:R,T,X);V&&s((0,y.Z)({},V),"dragRebound")}},$=function(u){if(!(!o||u.deltaY==0)){var b=Math.abs(u.deltaY/100),h=Math.min(b,Ct),m=Se+h*a;u.deltaY>0&&(m=Se/m),d(m,"wheel",u.clientX,u.clientY)}};return(0,n.useEffect)(function(){var M,u,b,h;if(e){b=(0,we.Z)(window,"mouseup",N,!1),h=(0,we.Z)(window,"mousemove",O,!1);try{window.top!==window.self&&(M=(0,we.Z)(window.top,"mouseup",N,!1),u=(0,we.Z)(window.top,"mousemove",O,!1))}catch(m){(0,ht.Kp)(!1,"[rc-image] ".concat(m))}}return function(){var m,I,R,p;(m=b)===null||m===void 0||m.remove(),(I=h)===null||I===void 0||I.remove(),(R=M)===null||R===void 0||R.remove(),(p=u)===null||p===void 0||p.remove()}},[o,C,f,w,l,e]),{isMoving:C,onMouseDown:S,onMouseMove:O,onMouseUp:N,onWheel:$}}function Ne(t,e){var o=t.x-e.x,a=t.y-e.y;return Math.hypot(o,a)}function wt(t,e,o,a){var r=Ne(t,o),s=Ne(e,a);if(r===0&&s===0)return[t.x,t.y];var d=r/(r+s),l=t.x+d*(e.x-t.x),v=t.y+d*(e.y-t.y);return[l,v]}function St(t,e,o,a,r,s,d){var l=r.rotate,v=r.scale,f=r.x,w=r.y,c=(0,n.useState)(!1),x=(0,E.Z)(c,2),C=x[0],g=x[1],Z=(0,n.useRef)({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),S=function(u){Z.current=(0,y.Z)((0,y.Z)({},Z.current),u)},O=function(u){if(e){u.stopPropagation(),g(!0);var b=u.touches,h=b===void 0?[]:b;h.length>1?S({point1:{x:h[0].clientX,y:h[0].clientY},point2:{x:h[1].clientX,y:h[1].clientY},eventType:"touchZoom"}):S({point1:{x:h[0].clientX-f,y:h[0].clientY-w},eventType:"move"})}},N=function(u){var b=u.touches,h=b===void 0?[]:b,m=Z.current,I=m.point1,R=m.point2,p=m.eventType;if(h.length>1&&p==="touchZoom"){var T={x:h[0].clientX,y:h[0].clientY},X={x:h[1].clientX,y:h[1].clientY},A=wt(I,R,T,X),V=(0,E.Z)(A,2),G=V[0],Q=V[1],k=Ne(T,X)/Ne(I,R);d(k,"touchZoom",G,Q,!0),S({point1:T,point2:X,eventType:"touchZoom"})}else p==="move"&&(s({x:h[0].clientX-I.x,y:h[0].clientY-I.y},"move"),S({eventType:"move"}))},$=function(){if(o){if(C&&g(!1),S({eventType:"none"}),a>v)return s({x:0,y:0,scale:a},"touchZoom");var u=t.current.offsetWidth*v,b=t.current.offsetHeight*v,h=t.current.getBoundingClientRect(),m=h.left,I=h.top,R=l%180!==0,p=Fe(R?b:u,R?u:b,m,I);p&&s((0,y.Z)({},p),"dragRebound")}};return(0,n.useEffect)(function(){var M;return o&&e&&(M=(0,we.Z)(window,"touchmove",function(u){return u.preventDefault()},{passive:!1})),function(){var u;(u=M)===null||u===void 0||u.remove()}},[o,e]),{isTouching:C,onTouchStart:O,onTouchMove:N,onTouchEnd:$}}var xt=i(2788),It=i(82225),yt=function(e){var o=e.visible,a=e.maskTransitionName,r=e.getContainer,s=e.prefixCls,d=e.rootClassName,l=e.icons,v=e.countRender,f=e.showSwitch,w=e.showProgress,c=e.current,x=e.transform,C=e.count,g=e.scale,Z=e.minScale,S=e.maxScale,O=e.closeIcon,N=e.onSwitchLeft,$=e.onSwitchRight,M=e.onClose,u=e.onZoomIn,b=e.onZoomOut,h=e.onRotateRight,m=e.onRotateLeft,I=e.onFlipX,R=e.onFlipY,p=e.toolbarRender,T=e.zIndex,X=(0,n.useContext)(Re),A=l.rotateLeft,V=l.rotateRight,G=l.zoomIn,Q=l.zoomOut,k=l.close,J=l.left,q=l.right,te=l.flipX,ne=l.flipY,le="".concat(s,"-operations-operation");n.useEffect(function(){var z=function(P){P.keyCode===De.Z.ESC&&M()};return o&&window.addEventListener("keydown",z),function(){window.removeEventListener("keydown",z)}},[o]);var ve=[{icon:ne,onClick:R,type:"flipY"},{icon:te,onClick:I,type:"flipX"},{icon:A,onClick:m,type:"rotateLeft"},{icon:V,onClick:h,type:"rotateRight"},{icon:Q,onClick:b,type:"zoomOut",disabled:g<=Z},{icon:G,onClick:u,type:"zoomIn",disabled:g===S}],W=ve.map(function(z){var D,P=z.icon,se=z.onClick,F=z.type,U=z.disabled;return n.createElement("div",{className:de()(le,(D={},(0,L.Z)(D,"".concat(s,"-operations-operation-").concat(F),!0),(0,L.Z)(D,"".concat(s,"-operations-operation-disabled"),!!U),D)),onClick:se,key:F},P)}),_=n.createElement("div",{className:"".concat(s,"-operations")},W);return n.createElement(It.default,{visible:o,motionName:a},function(z){var D=z.className,P=z.style;return n.createElement(xt.Z,{open:!0,getContainer:r!=null?r:document.body},n.createElement("div",{className:de()("".concat(s,"-operations-wrapper"),D,d),style:(0,y.Z)((0,y.Z)({},P),{},{zIndex:T})},O===null?null:n.createElement("button",{className:"".concat(s,"-close"),onClick:M},O||k),f&&n.createElement(n.Fragment,null,n.createElement("div",{className:de()("".concat(s,"-switch-left"),(0,L.Z)({},"".concat(s,"-switch-left-disabled"),c===0)),onClick:N},J),n.createElement("div",{className:de()("".concat(s,"-switch-right"),(0,L.Z)({},"".concat(s,"-switch-right-disabled"),c===C-1)),onClick:$},q)),n.createElement("div",{className:"".concat(s,"-footer")},w&&n.createElement("div",{className:"".concat(s,"-progress")},v?v(c+1,C):"".concat(c+1," / ").concat(C)),p?p(_,(0,y.Z)({icons:{flipYIcon:W[0],flipXIcon:W[1],rotateLeftIcon:W[2],rotateRightIcon:W[3],zoomOutIcon:W[4],zoomInIcon:W[5]},actions:{onFlipY:R,onFlipX:I,onRotateLeft:m,onRotateRight:h,onZoomOut:b,onZoomIn:u},transform:x},X?{current:c,total:C}:{})):_)))})},Zt=yt,Rt=["fallback","src","imgRef"],Ot=["prefixCls","src","alt","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],bt=function(e){var o=e.fallback,a=e.src,r=e.imgRef,s=(0,B.Z)(e,Rt),d=We({src:a,fallback:o}),l=(0,E.Z)(d,2),v=l[0],f=l[1];return n.createElement("img",(0,Y.Z)({ref:function(c){r.current=c,v(c)}},s,f))},Mt=function(e){var o=e.prefixCls,a=e.src,r=e.alt,s=e.fallback,d=e.movable,l=d===void 0?!0:d,v=e.onClose,f=e.visible,w=e.icons,c=w===void 0?{}:w,x=e.rootClassName,C=e.closeIcon,g=e.getContainer,Z=e.current,S=Z===void 0?0:Z,O=e.count,N=O===void 0?1:O,$=e.countRender,M=e.scaleStep,u=M===void 0?.5:M,b=e.minScale,h=b===void 0?1:b,m=e.maxScale,I=m===void 0?50:m,R=e.transitionName,p=R===void 0?"zoom":R,T=e.maskTransitionName,X=T===void 0?"fade":T,A=e.imageRender,V=e.imgCommonProps,G=e.toolbarRender,Q=e.onTransform,k=e.onChange,J=(0,B.Z)(e,Ot),q=(0,n.useRef)(),te=(0,n.useContext)(Re),ne=te&&N>1,le=te&&N>=1,ve=(0,n.useState)(!0),W=(0,E.Z)(ve,2),_=W[0],z=W[1],D=gt(q,h,I,Q),P=D.transform,se=D.resetTransform,F=D.updateTransform,U=D.dispatchZoomChange,me=pt(q,l,f,u,P,F,U),Oe=me.isMoving,xe=me.onMouseDown,be=me.onWheel,oe=St(q,l,f,h,P,F,U),ce=oe.isTouching,ue=oe.onTouchStart,ge=oe.onTouchMove,fe=oe.onTouchEnd,Me=P.rotate,Ie=P.scale,ye=de()((0,L.Z)({},"".concat(o,"-moving"),Oe));(0,n.useEffect)(function(){_||z(!0)},[_]);var He=function(){se("close")},Be=function(){U(Se+u,"zoomIn")},Ve=function(){U(Se/(Se+u),"zoomOut")},he=function(){F({rotate:Me+90},"rotateRight")},Ce=function(){F({rotate:Me-90},"rotateLeft")},Le=function(){F({flipX:!P.flipX},"flipX")},ze=function(){F({flipY:!P.flipY},"flipY")},Pe=function(j){j==null||j.preventDefault(),j==null||j.stopPropagation(),S>0&&(z(!1),se("prev"),k==null||k(S-1,S))},st=function(j){j==null||j.preventDefault(),j==null||j.stopPropagation(),S<N-1&&(z(!1),se("next"),k==null||k(S+1,S))},sn=function(j){!f||!ne||(j.keyCode===De.Z.LEFT?Pe():j.keyCode===De.Z.RIGHT&&st())},ln=function(j){f&&(Ie!==1?F({x:0,y:0,scale:1},"doubleClick"):U(Se+u,"doubleClick",j.clientX,j.clientY))};(0,n.useEffect)(function(){var ae=(0,we.Z)(window,"keydown",sn,!1);return function(){ae.remove()}},[f,ne,S]);var lt=n.createElement(bt,(0,Y.Z)({},V,{width:e.width,height:e.height,imgRef:q,className:"".concat(o,"-img"),alt:r,style:{transform:"translate3d(".concat(P.x,"px, ").concat(P.y,"px, 0) scale3d(").concat(P.flipX?"-":"").concat(Ie,", ").concat(P.flipY?"-":"").concat(Ie,", 1) rotate(").concat(Me,"deg)"),transitionDuration:(!_||ce)&&"0s"},fallback:s,src:a,onWheel:be,onMouseDown:xe,onDoubleClick:ln,onTouchStart:ue,onTouchMove:ge,onTouchEnd:fe,onTouchCancel:fe}));return n.createElement(n.Fragment,null,n.createElement(ft.Z,(0,Y.Z)({transitionName:p,maskTransitionName:X,closable:!1,keyboard:!0,prefixCls:o,onClose:v,visible:f,classNames:{wrapper:ye},rootClassName:x,getContainer:g},J,{afterClose:He}),n.createElement("div",{className:"".concat(o,"-img-wrapper")},A?A(lt,(0,y.Z)({transform:P},te?{current:S}:{})):lt)),n.createElement(Zt,{visible:f,transform:P,maskTransitionName:X,closeIcon:C,getContainer:g,prefixCls:o,rootClassName:x,icons:c,countRender:$,showSwitch:ne,showProgress:le,current:S,count:N,scale:Ie,minScale:h,maxScale:I,toolbarRender:G,onSwitchLeft:Pe,onSwitchRight:st,onZoomIn:Be,onZoomOut:Ve,onRotateRight:he,onRotateLeft:Ce,onFlipX:Le,onFlipY:ze,onClose:v,zIndex:J.zIndex!==void 0?J.zIndex+1:void 0}))},Ue=Mt,Pt=i(74902);function Et(t){var e=n.useState({}),o=(0,E.Z)(e,2),a=o[0],r=o[1],s=n.useCallback(function(l,v){return r(function(f){return(0,y.Z)((0,y.Z)({},f),{},(0,L.Z)({},l,v))}),function(){r(function(f){var w=(0,y.Z)({},f);return delete w[l],w})}},[]),d=n.useMemo(function(){return t?t.map(function(l){if(typeof l=="string")return{data:{src:l}};var v={};return Object.keys(l).forEach(function(f){["src"].concat((0,Pt.Z)(je)).includes(f)&&(v[f]=l[f])}),{data:v}}):Object.keys(a).reduce(function(l,v){var f=a[v],w=f.canPreview,c=f.data;return w&&l.push({data:c,id:v}),l},[])},[t,a]);return[d,s]}var Nt=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Tt=["src"],Lt=function(e){var o,a=e.previewPrefixCls,r=a===void 0?"rc-image-preview":a,s=e.children,d=e.icons,l=d===void 0?{}:d,v=e.items,f=e.preview,w=e.fallback,c=(0,ee.Z)(f)==="object"?f:{},x=c.visible,C=c.onVisibleChange,g=c.getContainer,Z=c.current,S=c.movable,O=c.minScale,N=c.maxScale,$=c.countRender,M=c.closeIcon,u=c.onChange,b=c.onTransform,h=c.toolbarRender,m=c.imageRender,I=(0,B.Z)(c,Nt),R=Et(v),p=(0,E.Z)(R,2),T=p[0],X=p[1],A=(0,Ae.Z)(0,{value:Z}),V=(0,E.Z)(A,2),G=V[0],Q=V[1],k=(0,n.useState)(!1),J=(0,E.Z)(k,2),q=J[0],te=J[1],ne=((o=T[G])===null||o===void 0?void 0:o.data)||{},le=ne.src,ve=(0,B.Z)(ne,Tt),W=(0,Ae.Z)(!!x,{value:x,onChange:function(ce,ue){C==null||C(ce,ue,G)}}),_=(0,E.Z)(W,2),z=_[0],D=_[1],P=(0,n.useState)(null),se=(0,E.Z)(P,2),F=se[0],U=se[1],me=n.useCallback(function(oe,ce,ue){var ge=T.findIndex(function(fe){return fe.id===oe});D(!0),U({x:ce,y:ue}),Q(ge<0?0:ge),te(!0)},[T]);n.useEffect(function(){z?q||Q(0):te(!1)},[z]);var Oe=function(ce,ue){Q(ce),u==null||u(ce,ue)},xe=function(){D(!1),U(null)},be=n.useMemo(function(){return{register:X,onPreview:me}},[X,me]);return n.createElement(Re.Provider,{value:be},s,n.createElement(Ue,(0,Y.Z)({"aria-hidden":!z,movable:S,visible:z,prefixCls:r,closeIcon:M,onClose:xe,mousePosition:F,imgCommonProps:ve,src:le,fallback:w,icons:l,minScale:O,maxScale:N,getContainer:g,current:G,count:T.length,countRender:$,onTransform:b,toolbarRender:h,imageRender:m,onChange:Oe},I)))},zt=Lt,$t=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],At=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Ye=function(e){var o=e.src,a=e.alt,r=e.onPreviewClose,s=e.prefixCls,d=s===void 0?"rc-image":s,l=e.previewPrefixCls,v=l===void 0?"".concat(d,"-preview"):l,f=e.placeholder,w=e.fallback,c=e.width,x=e.height,C=e.style,g=e.preview,Z=g===void 0?!0:g,S=e.className,O=e.onClick,N=e.onError,$=e.wrapperClassName,M=e.wrapperStyle,u=e.rootClassName,b=(0,B.Z)(e,$t),h=f&&f!==!0,m=(0,ee.Z)(Z)==="object"?Z:{},I=m.src,R=m.visible,p=R===void 0?void 0:R,T=m.onVisibleChange,X=T===void 0?r:T,A=m.getContainer,V=A===void 0?void 0:A,G=m.mask,Q=m.maskClassName,k=m.movable,J=m.icons,q=m.scaleStep,te=m.minScale,ne=m.maxScale,le=m.imageRender,ve=m.toolbarRender,W=(0,B.Z)(m,At),_=I!=null?I:o,z=(0,Ae.Z)(!!p,{value:p,onChange:X}),D=(0,E.Z)(z,2),P=D[0],se=D[1],F=We({src:o,isCustomPlaceholder:h,fallback:w}),U=(0,E.Z)(F,3),me=U[0],Oe=U[1],xe=U[2],be=(0,n.useState)(null),oe=(0,E.Z)(be,2),ce=oe[0],ue=oe[1],ge=(0,n.useContext)(Re),fe=!!Z,Me=function(){se(!1),ue(null)},Ie=de()(d,$,u,(0,L.Z)({},"".concat(d,"-error"),xe==="error")),ye=(0,n.useMemo)(function(){var he={};return je.forEach(function(Ce){e[Ce]!==void 0&&(he[Ce]=e[Ce])}),he},je.map(function(he){return e[he]})),He=(0,n.useMemo)(function(){return(0,y.Z)((0,y.Z)({},ye),{},{src:_})},[_,ye]),Be=ut(fe,He),Ve=function(Ce){var Le=(0,$e.os)(Ce.target),ze=Le.left,Pe=Le.top;ge?ge.onPreview(Be,ze,Pe):(ue({x:ze,y:Pe}),se(!0)),O==null||O(Ce)};return n.createElement(n.Fragment,null,n.createElement("div",(0,Y.Z)({},b,{className:Ie,onClick:fe?Ve:O,style:(0,y.Z)({width:c,height:x},M)}),n.createElement("img",(0,Y.Z)({},ye,{className:de()("".concat(d,"-img"),(0,L.Z)({},"".concat(d,"-img-placeholder"),f===!0),S),style:(0,y.Z)({height:x},C),ref:me},Oe,{width:c,height:x,onError:N})),xe==="loading"&&n.createElement("div",{"aria-hidden":"true",className:"".concat(d,"-placeholder")},f),G&&fe&&n.createElement("div",{className:de()("".concat(d,"-mask"),Q),style:{display:(C==null?void 0:C.display)==="none"?"none":void 0}},G)),!ge&&fe&&n.createElement(Ue,(0,Y.Z)({"aria-hidden":!P,visible:P,prefixCls:v,onClose:Me,mousePosition:ce,src:_,alt:a,fallback:w,getContainer:V,icons:J,movable:k,scaleStep:q,minScale:te,maxScale:ne,rootClassName:u,imageRender:le,imgCommonProps:ye,toolbarRender:ve},W)))};Ye.PreviewGroup=zt,Ye.displayName="Image";var jt=Ye,Ke=jt,Qe=i(87263),Te=i(33603),Je=i(53124),qe=i(35792),_e=i(24457),Dt=i(73475),Yt=i(22751),Xt=i(91034),Ht=i(59919),Bt=i(29439),et=i(17197),Vt=i(17441),kt=i(55210),tt=i(54548),pe=i(10274),Wt=i(71194),Gt=i(14747),Ft=i(50438),Ut=i(16932),Kt=i(91945),nt=i(45503);const Xe=t=>({position:t||"absolute",inset:0}),Qt=t=>{const{iconCls:e,motionDurationSlow:o,paddingXXS:a,marginXXS:r,prefixCls:s,colorTextLightSolid:d}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:d,background:new pe.C("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${o}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},Gt.vS),{padding:`0 ${(0,tt.unit)(a)}`,[e]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},Jt=t=>{const{previewCls:e,modalMaskBg:o,paddingSM:a,marginXL:r,margin:s,paddingLG:d,previewOperationColorDisabled:l,previewOperationHoverColor:v,motionDurationSlow:f,iconCls:w,colorTextLightSolid:c}=t,x=new pe.C(o).setAlpha(.1),C=x.clone().setAlpha(.2);return{[`${e}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:t.previewOperationColor},[`${e}-progress`]:{marginBottom:s},[`${e}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:c,backgroundColor:x.toRgbString(),borderRadius:"50%",padding:a,outline:0,border:0,cursor:"pointer",transition:`all ${f}`,"&:hover":{backgroundColor:C.toRgbString()},[`& > ${w}`]:{fontSize:t.previewOperationSize}},[`${e}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${(0,tt.unit)(d)}`,backgroundColor:x.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:a,padding:a,cursor:"pointer",transition:`all ${f}`,userSelect:"none",[`&:not(${e}-operations-operation-disabled):hover > ${w}`]:{color:v},"&-disabled":{color:l,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${w}`]:{fontSize:t.previewOperationSize}}}}},qt=t=>{const{modalMaskBg:e,iconCls:o,previewOperationColorDisabled:a,previewCls:r,zIndexPopup:s,motionDurationSlow:d}=t,l=new pe.C(e).setAlpha(.1),v=l.clone().setAlpha(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:t.calc(s).add(1).equal({unit:!1}),display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:t.calc(t.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:t.previewOperationColor,background:l.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${d}`,userSelect:"none","&:hover":{background:v.toRgbString()},["&-disabled"]:{"&, &:hover":{color:a,background:"transparent",cursor:"not-allowed",[`> ${o}`]:{cursor:"not-allowed"}}},[`> ${o}`]:{fontSize:t.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:t.marginSM},[`${r}-switch-right`]:{insetInlineEnd:t.marginSM}}},_t=t=>{const{motionEaseOut:e,previewCls:o,motionDurationSlow:a,componentCls:r}=t;return[{[`${r}-preview-root`]:{[o]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${o}-body`]:Object.assign(Object.assign({},Xe()),{overflow:"hidden"}),[`${o}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${a} ${e} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},Xe()),{transition:`transform ${a} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${o}-moving`]:{[`${o}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${o}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:t.calc(t.zIndexPopup).add(1).equal({unit:!1})},"&":[Jt(t),qt(t)]}]},en=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},Qt(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},Xe())}}},tn=t=>{const{previewCls:e}=t;return{[`${e}-root`]:(0,Ft._y)(t,"zoom"),["&"]:(0,Ut.J$)(t,!0)}},nn=t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new pe.C(t.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new pe.C(t.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new pe.C(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5});var ot=(0,Kt.I$)("Image",t=>{const e=`${t.componentCls}-preview`,o=(0,nt.TS)(t,{previewCls:e,modalMaskBg:new pe.C("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[en(o),_t(o),(0,Wt.QA)((0,nt.TS)(o,{componentCls:e})),tn(o)]},nn),on=function(t,e){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(o[a[r]]=t[a[r]]);return o};const at={rotateLeft:n.createElement(Ht.Z,null),rotateRight:n.createElement(Bt.Z,null),zoomIn:n.createElement(Vt.Z,null),zoomOut:n.createElement(kt.Z,null),close:n.createElement(Dt.Z,null),left:n.createElement(Yt.Z,null),right:n.createElement(Xt.Z,null),flipX:n.createElement(et.Z,null),flipY:n.createElement(et.Z,{rotate:90})};var an=t=>{var{previewPrefixCls:e,preview:o}=t,a=on(t,["previewPrefixCls","preview"]);const{getPrefixCls:r}=n.useContext(Je.E_),s=r("image",e),d=`${s}-preview`,l=r(),v=(0,qe.Z)(s),[f,w,c]=ot(s,v),[x]=(0,Qe.Cn)("ImagePreview",typeof o=="object"?o.zIndex:void 0),C=n.useMemo(()=>{var g;if(o===!1)return o;const Z=typeof o=="object"?o:{},S=K()(w,c,v,(g=Z.rootClassName)!==null&&g!==void 0?g:"");return Object.assign(Object.assign({},Z),{transitionName:(0,Te.m)(l,"zoom",Z.transitionName),maskTransitionName:(0,Te.m)(l,"fade",Z.maskTransitionName),rootClassName:S,zIndex:x})},[o]);return f(n.createElement(Ke.PreviewGroup,Object.assign({preview:C,previewPrefixCls:d,icons:at},a)))},rt=function(t,e){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(o[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(t);r<a.length;r++)e.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(t,a[r])&&(o[a[r]]=t[a[r]]);return o};const it=t=>{var e;const{prefixCls:o,preview:a,className:r,rootClassName:s,style:d}=t,l=rt(t,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:v,locale:f=_e.Z,getPopupContainer:w,image:c}=n.useContext(Je.E_),x=v("image",o),C=v(),g=f.Image||_e.Z.Image,Z=(0,qe.Z)(x),[S,O,N]=ot(x,Z),$=K()(s,O,N,Z),M=K()(r,O,c==null?void 0:c.className),[u]=(0,Qe.Cn)("ImagePreview",typeof a=="object"?a.zIndex:void 0),b=n.useMemo(()=>{var m;if(a===!1)return a;const I=typeof a=="object"?a:{},{getContainer:R,closeIcon:p}=I,T=rt(I,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:n.createElement("div",{className:`${x}-mask-info`},n.createElement(H.Z,null),g==null?void 0:g.preview),icons:at},T),{getContainer:R!=null?R:w,transitionName:(0,Te.m)(C,"zoom",I.transitionName),maskTransitionName:(0,Te.m)(C,"fade",I.maskTransitionName),zIndex:u,closeIcon:p!=null?p:(m=c==null?void 0:c.preview)===null||m===void 0?void 0:m.closeIcon})},[a,g,(e=c==null?void 0:c.preview)===null||e===void 0?void 0:e.closeIcon]),h=Object.assign(Object.assign({},c==null?void 0:c.style),d);return S(n.createElement(Ke,Object.assign({prefixCls:x,preview:b,rootClassName:$,className:M,style:h},l)))};it.PreviewGroup=an;var rn=it}}]);
