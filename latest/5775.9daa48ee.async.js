"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[5775],{34462:function(ie,O,e){e.d(O,{j:function(){return J}});var W=e(19632),t=e.n(W),B=e(97857),r=e.n(B),U=e(15009),d=e.n(U),g=e(99289),c=e.n(g),F=e(13769),ee=e.n(F),u=e(3917),ne=e(78234),H=e(22638),P=e(99859),de=e(78045),N=e(75081),l=e(33168),K=e(40964),M=e(80342),Z=e(67294),$=e(85893),oe=["name","actionRef","value","onChange","outLoading","dependencies","disabled","options","request","debounceTime","all","allValue","allLabel","notDependRender","radioProps","requestOptions"],J={marginLeft:40,width:"fit-content"},E=function(a){var ue=a.name,_e=a.actionRef,ve=a.value,le=a.onChange,me=a.outLoading,n=a.dependencies,te=n===void 0?K.ow:n,R=a.disabled,_=a.options,j=a.request,Y=a.debounceTime,y=a.all,v=y===void 0?!1:y,I=a.allValue,Q=I===void 0?"all":I,f=a.allLabel,S=f===void 0?"\u5168\u90E8":f,m=a.notDependRender,V=m===void 0?(0,$.jsx)("span",{children:"\u8BF7\u5148\u9009\u62E9\u4F9D\u8D56\u9879"}):m,X=a.radioProps,p=X===void 0?K.FD:X,z=a.requestOptions,T=z===void 0?K.FD:z,s=ee()(a,oe),ae=P.Z.useFormInstance(),L=(0,l.RZ)(te,s),D=(0,l.Zm)(L),C=(0,u.Z)(j||c()(d()().mark(function o(){return d()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",[]);case 1:case"end":return b.stop()}},o)})),r()(r()({},T),{},{manual:!0,debounceWait:Y})),q=C.run,k=C.loading,w=C.data;(0,ne.Z)(function(){var o;!j||_!=null&&_.length||(o=p.options)!==null&&o!==void 0&&o.length||q.apply(void 0,t()(L))}),(0,M.Z)(function(){var o;!j||_!=null&&_.length||(o=p.options)!==null&&o!==void 0&&o.length||(ae.setFieldValue(ue,void 0),D||q.apply(void 0,t()(L)))},L);var G=(0,Z.useMemo)(function(){var o=(0,l.FW)(_,p.options,w);return v&&(o==null?void 0:o.length)>0?[{label:S,value:Q}].concat(t()(o)):o},[v,_,w,p.options]);(0,Z.useImperativeHandle)(_e,function(){return C});var se=(0,H.Z)(function(o){var A;le==null||le(o),p==null||(A=p.onChange)===null||A===void 0||A.call(p,o)}),h=(0,$.jsx)(de.ZP.Group,r()(r()(r()({},s),{},{options:G,disabled:R!=null?R:D},p),{},{value:ve,onChange:se}));return(0,$.jsx)(N.Z,r()(r()({spinning:k,style:J},me),{},{children:D?V:h}))};O.Z=E},46368:function(ie,O,e){e.d(O,{Z:function(){return le}});var W=e(97857),t=e.n(W),B=e(13769),r=e.n(B),U=e(89889),d=e(84640),g=e(33168),c=e(40964),F=e(67294),ee=e(19632),u=e.n(ee),ne=e(15009),H=e.n(ne),P=e(99289),de=e.n(P),N=e(3917),l=e(78234),K=e(22638),M=e(99859),Z=e(75081),$=e(34041),oe=e(34462),J=e(80342),E=e(85893),x=["value","onChange","dependencies","placeholder","options","request","debounceTime","all","disabled","allValue","allLabel","selectProps","outLoading","requestOptions","name","actionRef"],a=function(n){var te=n.value,R=n.onChange,_=n.dependencies,j=_===void 0?c.ow:_,Y=n.placeholder,y=n.options,v=y===void 0?c.ow:y,I=n.request,Q=n.debounceTime,f=n.all,S=f===void 0?!1:f,m=n.disabled,V=n.allValue,X=V===void 0?"":V,p=n.allLabel,z=p===void 0?"\u5168\u90E8":p,T=n.selectProps,s=T===void 0?c.FD:T,ae=n.outLoading,L=n.requestOptions,D=L===void 0?c.FD:L,C=n.name,q=n.actionRef,k=r()(n,x),w=M.Z.useFormInstance(),G=(0,g.RZ)(j,k),se=(0,g.Zm)(G),h=(0,N.Z)(I||de()(H()().mark(function i(){return H()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.abrupt("return",[]);case 1:case"end":return re.stop()}},i)})),t()(t()({},D),{},{manual:!0,debounceWait:Q})),o=h.run,A=h.loading,b=h.data;(0,l.Z)(function(){var i;!I||v!=null&&v.length||(i=s.options)!==null&&i!==void 0&&i.length||o.apply(void 0,u()(G))}),(0,F.useImperativeHandle)(q,function(){return h}),(0,J.Z)(function(){var i;!I||v!=null&&v.length||(i=s.options)!==null&&i!==void 0&&i.length||(w.setFieldValue(C,void 0),se||o.apply(void 0,u()(G)))},G);var ge=(0,F.useMemo)(function(){var i=(0,g.FW)(v,s.options,b);return S&&(i==null?void 0:i.length)>0?[{label:z,value:X}].concat(u()(i)):i},[S,v,b,s.options]),ce=(0,K.Z)(function(i,pe){s!=null&&s.onChange&&(s==null||s.onChange(i,pe)),R==null||R(i)});return(0,E.jsx)(Z.Z,t()(t()({spinning:A,style:oe.j},ae),{},{children:(0,E.jsx)($.default,t()(t()(t()({},k),{},{disabled:m!=null?m:se,options:ge,placeholder:Y,allowClear:!0},s),{},{style:t()({width:"100%"},s==null?void 0:s.style),value:te,onChange:ce}))}))},ue=a,_e=["request","debounceTime","all","allValue","allLabel","options","selectProps","requestOptions","spin","required","disabled","size","placeholder","actionRef"],ve=function(n){var te=n.request,R=n.debounceTime,_=n.all,j=_===void 0?!1:_,Y=n.allValue,y=Y===void 0?"":Y,v=n.allLabel,I=v===void 0?"\u5168\u90E8":v,Q=n.options,f=Q===void 0?c.ow:Q,S=n.selectProps,m=S===void 0?c.FD:S,V=n.requestOptions,X=V===void 0?c.FD:V,p=n.spin,z=n.required,T=n.disabled,s=n.size,ae=n.placeholder,L=n.actionRef,D=r()(n,_e),C=(0,g.JY)({placeholder:ae,restProps:D,isSelectType:!0}),q=(0,F.useContext)(U.e),k=q.disabled,w=[{validator:function(se,h){var o="",A=f==null?void 0:f.find(function(b){return(b==null?void 0:b.value)===h});return(!h&&h!==0&&!A&&!(j&&y===h)||((m==null?void 0:m.mode)==="multiple"||(m==null?void 0:m.mode)==="tags")&&h&&h.length<=0)&&(o=z?"".concat(C,"!"):""),o?Promise.reject(o):Promise.resolve()}}];return(0,E.jsx)(d.Z,t()(t()({required:z,_isSelectType:!0,rules:w},D),{},{children:(0,E.jsx)(ue,{name:D.name,size:s,disabled:T!=null?T:k,placeholder:C,dependencies:D==null?void 0:D.dependencies,options:f,request:te,debounceTime:R,all:j,outLoading:p,allValue:y,allLabel:I,selectProps:m,requestOptions:X,actionRef:L})}))},le=ve},61117:function(ie,O,e){var W=e(84640);O.Z=W.Z},4390:function(ie,O,e){var W=e(97857),t=e.n(W),B=e(13769),r=e.n(B),U=e(78957),d=e(99859),g=e(33168),c=e(40964),F=e(61117),ee=e(89889),u=e(85893),ne=["submitter"],H=["render"],P=function(N){var l=N.submitter,K=r()(N,ne),M=typeof l=="boolean"||!l?c.FD:l,Z=M.render,$=r()(M,H),oe=l===void 0||l?t()({render:function(E){var x=Array.isArray(E)&&E.length>1?(0,u.jsx)(U.Z,{children:E}):E;return(0,u.jsx)(d.Z.Item,{colon:!1,className:"lightd-form-submitter",style:{marginBottom:0,paddingLeft:typeof(l==null?void 0:l.buttonAlign)=="number"?"".concat(l==null?void 0:l.buttonAlign,"px"):0},wrapperCol:M==null?void 0:M.wrapperCol,children:(0,u.jsx)("div",{style:{display:"flex",justifyContent:typeof(l==null?void 0:l.buttonAlign)=="string"?g.lN[l==null?void 0:l.buttonAlign]:"initial"},children:Z?(0,u.jsx)(u.Fragment,{children:Z(x,M)}):x})})}},$):!1;return(0,u.jsx)(ee.Z,t()({submitter:oe,contentRender:function(E,x){return(0,u.jsxs)(u.Fragment,{children:[E,x]})}},K))};P.Item=F.Z,P.List=d.Z.List,P.Provider=d.Z.Provider,P.ErrorList=d.Z.ErrorList,P.useForm=d.Z.useForm,P.useFormInstance=d.Z.useFormInstance,P.useWatch=d.Z.useWatch,O.Z=P},80342:function(ie,O,e){var W=e(2477),t=e(67294),B=function(){var d=(0,t.useRef)(!0),g=d.current;return g&&(d.current=!1,!0)},r=function(d,g){var c=B();(0,W.Z)(function(){if(!c)return d()},g)};O.Z=r}}]);
