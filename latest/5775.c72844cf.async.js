"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[5775],{34462:function(Me,U,e){e.d(U,{j:function(){return fe}});var N=e(42122),l=e.n(N),ue=e(17061),L=e.n(ue),ve=e(17156),h=e.n(ve),K=e(861),u=e.n(K),f=e(27424),E=e.n(f),_e=e(70215),v=e.n(_e),he=e(92652),H=e(77598),a=e(3917),oe=e(93812),W=e(22638),te=e(638),pe=e(78045),me=e(57953),Q=e(33168),c=e(67294),y=e(85893),Oe=["name","value","onChange","outLoading","dependencies","disabled","options","request","debounceTime","all","allValue","allLabel","notDependRender","radioProps","requestOptions"],fe={marginLeft:40,width:"fit-content"},se=function(o){var be=o.name,Ee=o.value,ce=o.onChange,Pe=o.outLoading,P=Pe===void 0?{}:Pe,n=o.dependencies,ie=n===void 0?[]:n,I=o.disabled,$=o.options,X=$===void 0?[]:$,F=o.request,k=o.debounceTime,V=o.all,C=V===void 0?!1:V,q=o.allValue,R=q===void 0?"all":q,T=o.allLabel,d=T===void 0?"\u5168\u90E8":T,x=o.notDependRender,G=x===void 0?(0,y.jsx)("span",{children:"\u8BF7\u5148\u9009\u62E9\u4F9D\u8D56\u9879"}):x,w=o.radioProps,s=w===void 0?{}:w,B=o.requestOptions,g=B===void 0?{}:B,O=v()(o,Oe),_=(0,c.useState)([]),ee=E()(_,2),S=ee[0],Z=ee[1],De=(0,he.Z)((P==null?void 0:P.spinning)||!1),b=E()(De,2),Y=b[0],p=b[1],D=(0,Q.YZ)(),z=(0,c.useMemo)(function(){return Reflect.has(P,"spinning")},[P]);(0,H.Z)(function(){z&&p((P==null?void 0:P.spinning)||!1)},[P]);var Le=te.Z.useFormInstance(),ne=(0,Q.RZ)(ie,O),ae=(0,Q.Zm)(ne),j=(0,c.useMemo)(function(){var t=s.options||X;if(C&&t!==null&&t!==void 0&&t.length){var i=[{label:d,value:R}].concat(u()(t));return i}return t},[C,d,R,X,s.options]),J=(0,a.Z)(F||h()(L()().mark(function t(){return L()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.abrupt("return",[]);case 1:case"end":return le.stop()}},t)})),l()(l()({},g),{},{manual:!0,debounceWait:k,onSuccess:function(i){z||p(!1),C&&(i==null?void 0:i.length)>0?Z([{label:d,value:R}].concat(u()(i))):Z(u()(i))},onError:function(){z||p(!1),Z([])}})),We=J.run;(0,oe.Z)(function(){F&&(D?h()(L()().mark(function t(){var i;return L()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,z||p(!0),M.next=4,F.apply(void 0,u()(ne));case 4:i=M.sent,C&&(i==null?void 0:i.length)>0?Z([{label:d,value:R}].concat(u()(i))):Z(u()(i)),M.next=11;break;case 8:M.prev=8,M.t0=M.catch(0),Z([]);case 11:z||p(!1);case 12:case"end":return M.stop()}},t,null,[[0,8]])}))():(Ee!==void 0&&Le.setFieldValue(be,void 0),ae||(z||p(!0),We.apply(void 0,u()(ne)))))},[ne]);var ye=(0,c.useMemo)(function(){return ae?[]:(S==null?void 0:S.length)>0?S:j.length>0?j:[]},[ae,j,S]),re=(0,W.Z)(function(t){s!=null&&s.onChange&&(s==null||s.onChange(t)),ce==null||ce(t)}),de=(0,y.jsx)(pe.ZP.Group,l()(l()({options:ye,disabled:I!=null?I:ae},s),{},{value:Ee,onChange:re}));return(0,y.jsx)(me.Z,l()(l()({spinning:Y,style:fe},P),{},{children:ae?G:de}))};U.Z=se},46368:function(Me,U,e){e.d(U,{Z:function(){return Pe}});var N=e(42122),l=e.n(N),ue=e(70215),L=e.n(ue),ve=e(89889),h=e(84640),K=e(33168),u=e(67294),f=e(861),E=e.n(f),_e=e(17061),v=e.n(_e),he=e(17156),H=e.n(he),a=e(27424),oe=e.n(a),W=e(92652),te=e(77598),pe=e(3917),me=e(93812),Q=e(22638),c=e(638),y=e(57953),Oe=e(34041),fe=e(34462),se=e(85893),Ce=["value","onChange","dependencies","placeholder","options","request","debounceTime","all","disabled","allValue","allLabel","selectProps","outLoading","requestOptions","name"],o=function(n){var ie=n.value,I=n.onChange,$=n.dependencies,X=$===void 0?[]:$,F=n.placeholder,k=n.options,V=k===void 0?[]:k,C=n.request,q=n.debounceTime,R=n.all,T=R===void 0?!1:R,d=n.disabled,x=n.allValue,G=x===void 0?"":x,w=n.allLabel,s=w===void 0?"\u5168\u90E8":w,B=n.selectProps,g=B===void 0?{}:B,O=n.outLoading,_=O===void 0?{}:O,ee=n.requestOptions,S=ee===void 0?{}:ee,Z=n.name,De=L()(n,Ce),b=(0,u.useState)([]),Y=oe()(b,2),p=Y[0],D=Y[1],z=(0,K.YZ)(),Le=(0,W.Z)((_==null?void 0:_.spinning)||!1),ne=oe()(Le,2),ae=ne[0],j=ne[1],J=(0,u.useMemo)(function(){return Reflect.has(_,"spinning")},[_]);(0,te.Z)(function(){J&&j((_==null?void 0:_.spinning)||!1)},[_]);var We=(0,pe.Z)(C||H()(v()().mark(function m(){return v()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.abrupt("return",[]);case 1:case"end":return ge.stop()}},m)})),l()(l()({},S),{},{manual:!0,debounceWait:q,onSuccess:function(r){J||j(!1),T&&(r==null?void 0:r.length)>0?D([{label:s,value:G}].concat(E()(r))):D(E()(r))},onError:function(){D([]),J||j(!1)}})),ye=We.run,re=(0,K.RZ)(X,De),de=(0,K.Zm)(re),t=(0,u.useMemo)(function(){var m=g.options||V;if(T&&(m==null?void 0:m.length)>0){var r=[{label:s,value:G}].concat(E()(m));return r}return m},[T,s,G,V,g.options]),i=c.Z.useFormInstance();(0,me.Z)(function(){C&&(z?H()(v()().mark(function m(){var r;return v()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,J||j(!0),A.next=4,C.apply(void 0,E()(re));case 4:r=A.sent,T&&(r==null?void 0:r.length)>0?D([{label:s,value:G}].concat(E()(r))):D(E()(r)),A.next=11;break;case 8:A.prev=8,A.t0=A.catch(0),D([]);case 11:J||j(!1);case 12:case"end":return A.stop()}},m,null,[[0,8]])}))():(ie!==void 0&&i.setFieldValue(Z,void 0),de||(J||j(!0),ye.apply(void 0,E()(re)))))},[re]);var le=(0,u.useMemo)(function(){return de?[]:(p==null?void 0:p.length)>0?p:t.length>0?t:[]},[de,t,p]),M=(0,Q.Z)(function(m,r){g!=null&&g.onChange&&(g==null||g.onChange(m,r)),I==null||I(m)});return(0,se.jsx)(y.Z,l()(l()({spinning:ae,style:fe.j},_),{},{children:(0,se.jsx)(Oe.Z,l()(l()({disabled:d!=null?d:de,options:le,placeholder:F,allowClear:!0,style:{width:"100%"}},g),{},{value:ie,onChange:M}))}))},be=o,Ee=["request","debounceTime","all","allValue","allLabel","options","selectProps","requestOptions","spin","required","disabled","placeholder"],ce=function(n){var ie=n.request,I=n.debounceTime,$=n.all,X=$===void 0?!1:$,F=n.allValue,k=F===void 0?"":F,V=n.allLabel,C=V===void 0?"\u5168\u90E8":V,q=n.options,R=q===void 0?[]:q,T=n.selectProps,d=T===void 0?{}:T,x=n.requestOptions,G=x===void 0?{}:x,w=n.spin,s=n.required,B=n.disabled,g=n.placeholder,O=L()(n,Ee),_=(0,K.JY)({placeholder:g,restProps:O,isSelectType:!0}),ee=(0,u.useContext)(ve.e),S=ee.disabled;return(0,se.jsx)(h.Z,l()(l()({required:s,_isSelectType:!0,rules:[{validator:function(De,b){var Y="",p=R.find(function(D){return(D==null?void 0:D.value)===b});return(!b&&b!==0&&!p&&!(X&&k===b)||((d==null?void 0:d.mode)==="multiple"||(d==null?void 0:d.mode)==="tags")&&b&&b.length<=0)&&(Y=s?"".concat(_,"!"):""),Y?Promise.reject(Y):Promise.resolve()}}]},O),{},{children:(0,se.jsx)(be,{name:O.name,disabled:B!=null?B:S,placeholder:_,dependencies:O==null?void 0:O.dependencies,options:R,request:ie,debounceTime:I,all:X,outLoading:w,allValue:k,allLabel:C,selectProps:d,requestOptions:G})}))},Pe=ce},61117:function(Me,U,e){var N=e(84640);U.Z=N.Z},4390:function(Me,U,e){var N=e(42122),l=e.n(N),ue=e(70215),L=e.n(ue),ve=e(42075),h=e(638),K=e(61117),u=e(89889),f=e(85893),E=["submitter"],_e=["render"],v=function(H){var a=H.submitter,oe=L()(H,E),W=typeof a=="boolean"||!a?{}:a,te=W.render,pe=L()(W,_e),me=typeof a=="undefined"||a?l()({render:function(c){var y=Array.isArray(c)&&c.length>1?(0,f.jsx)(ve.Z,{children:c}):c;return(0,f.jsx)(h.Z.Item,{colon:!1,className:"lightd-form-submitter",style:{marginBottom:0,paddingLeft:typeof(a==null?void 0:a.buttonAlign)=="number"?"".concat(a==null?void 0:a.buttonAlign,"px"):0},wrapperCol:W==null?void 0:W.wrapperCol,children:(0,f.jsx)("div",{style:{display:"flex",justifyContent:typeof(a==null?void 0:a.buttonAlign)=="string"?a==null?void 0:a.buttonAlign:"initial"},children:te?(0,f.jsx)(f.Fragment,{children:te(y,W)}):y})})}},pe):!1;return(0,f.jsx)(u.Z,l()({submitter:me,contentRender:function(c,y){return(0,f.jsxs)(f.Fragment,{children:[c,y]})}},oe))};v.Item=K.Z,v.List=h.Z.List,v.Provider=h.Z.Provider,v.ErrorList=h.Z.ErrorList,v.useForm=h.Z.useForm,v.useFormInstance=h.Z.useFormInstance,v.useWatch=h.Z.useWatch,U.Z=v}}]);
