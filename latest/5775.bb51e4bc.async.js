"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[5775],{34462:function(se,f,e){e.d(f,{j:function(){return b}});var R=e(19632),t=e.n(R),B=e(97857),d=e.n(B),U=e(15009),r=e.n(U),p=e(99289),c=e.n(p),F=e(13769),h=e.n(F),Z=e(3917),ee=e(78234),g=e(22638),ie=e(99859),G=e(78045),l=e(75081),$=e(33168),P=e(40964),H=e(80342),J=e(67294),x=e(85893),ne=["name","actionRef","value","onChange","outLoading","dependencies","disabled","options","request","debounceTime","all","allValue","allLabel","notDependRender","radioProps","requestOptions"],b={marginLeft:40,width:"fit-content"},O=function(a){var de=a.name,ue=a.actionRef,_e=a.value,oe=a.onChange,ve=a.outLoading,n=a.dependencies,le=n===void 0?P.ow:n,L=a.disabled,u=a.options,I=a.request,N=a.debounceTime,T=a.all,_=T===void 0?!1:T,K=a.allValue,Q=K===void 0?"all":K,W=a.allLabel,S=W===void 0?"\u5168\u90E8":W,v=a.notDependRender,V=v===void 0?(0,x.jsx)("span",{children:"\u8BF7\u5148\u9009\u62E9\u4F9D\u8D56\u9879"}):v,X=a.radioProps,m=X===void 0?P.FD:X,Y=a.requestOptions,y=Y===void 0?P.FD:Y,s=h()(a,ne),te=ie.Z.useFormInstance(),C=(0,$.RZ)(le,s),D=(0,$.Zm)(C),j=(0,Z.Z)(I||c()(r()().mark(function o(){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",[]);case 1:case"end":return M.stop()}},o)})),d()(d()({},y),{},{manual:!0,debounceWait:N})),q=j.run,w=j.loading,k=j.data;(0,ee.Z)(function(){var o;!I||u!=null&&u.length||(o=m.options)!==null&&o!==void 0&&o.length||q.apply(void 0,t()(C))}),(0,H.Z)(function(){var o;!I||u!=null&&u.length||(o=m.options)!==null&&o!==void 0&&o.length||(te.setFieldValue(de,void 0),D||q.apply(void 0,t()(C)))},C);var z=(0,J.useMemo)(function(){var o=(0,$.FW)(u,m.options,k);return _&&(o==null?void 0:o.length)>0?[{label:S,value:Q}].concat(t()(o)):o},[_,u,k,m.options]);(0,J.useImperativeHandle)(ue,function(){return j});var ae=(0,g.Z)(function(o){var A;oe==null||oe(o),m==null||(A=m.onChange)===null||A===void 0||A.call(m,o)}),E=(0,x.jsx)(G.ZP.Group,d()(d()(d()({},s),{},{options:z,disabled:L!=null?L:D},m),{},{value:_e,onChange:ae}));return(0,x.jsx)(l.Z,d()(d()({spinning:w,style:b},ve),{},{children:D?V:E}))};f.Z=O},46368:function(se,f,e){e.d(f,{Z:function(){return oe}});var R=e(97857),t=e.n(R),B=e(13769),d=e.n(B),U=e(89889),r=e(84640),p=e(33168),c=e(40964),F=e(67294),h=e(19632),Z=e.n(h),ee=e(15009),g=e.n(ee),ie=e(99289),G=e.n(ie),l=e(3917),$=e(78234),P=e(22638),H=e(99859),J=e(75081),x=e(34041),ne=e(34462),b=e(80342),O=e(85893),me=["value","onChange","dependencies","placeholder","options","request","debounceTime","all","disabled","allValue","allLabel","selectProps","outLoading","requestOptions","name","actionRef"],a=function(n){var le=n.value,L=n.onChange,u=n.dependencies,I=u===void 0?c.ow:u,N=n.placeholder,T=n.options,_=T===void 0?c.ow:T,K=n.request,Q=n.debounceTime,W=n.all,S=W===void 0?!1:W,v=n.disabled,V=n.allValue,X=V===void 0?"":V,m=n.allLabel,Y=m===void 0?"\u5168\u90E8":m,y=n.selectProps,s=y===void 0?c.FD:y,te=n.outLoading,C=n.requestOptions,D=C===void 0?c.FD:C,j=n.name,q=n.actionRef,w=d()(n,me),k=H.Z.useFormInstance(),z=(0,p.RZ)(I,w),ae=(0,p.Zm)(z),E=(0,l.Z)(K||G()(g()().mark(function i(){return g()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.abrupt("return",[]);case 1:case"end":return re.stop()}},i)})),t()(t()({},D),{},{manual:!0,debounceWait:Q})),o=E.run,A=E.loading,M=E.data;(0,$.Z)(function(){var i;!K||_!=null&&_.length||(i=s.options)!==null&&i!==void 0&&i.length||o.apply(void 0,Z()(z))}),(0,F.useImperativeHandle)(q,function(){return E}),(0,b.Z)(function(){var i;!K||_!=null&&_.length||(i=s.options)!==null&&i!==void 0&&i.length||(k.setFieldValue(j,void 0),ae||o.apply(void 0,Z()(z)))},z);var ce=(0,F.useMemo)(function(){var i=(0,p.FW)(_,s.options,M);return S&&(i==null?void 0:i.length)>0?[{label:Y,value:X}].concat(Z()(i)):i},[S,_,M,s.options]),ge=(0,P.Z)(function(i,pe){s!=null&&s.onChange&&(s==null||s.onChange(i,pe)),L==null||L(i)});return(0,O.jsx)(J.Z,t()(t()({spinning:A,style:ne.j},te),{},{children:(0,O.jsx)(x.default,t()(t()(t()({},w),{},{disabled:v!=null?v:ae,options:ce,placeholder:N,allowClear:!0},s),{},{style:t()({width:"100%"},s==null?void 0:s.style),value:le,onChange:ge}))}))},de=a,ue=["request","debounceTime","all","allValue","allLabel","options","selectProps","requestOptions","spin","required","disabled","size","placeholder","actionRef"],_e=function(n){var le=n.request,L=n.debounceTime,u=n.all,I=u===void 0?!1:u,N=n.allValue,T=N===void 0?"":N,_=n.allLabel,K=_===void 0?"\u5168\u90E8":_,Q=n.options,W=Q===void 0?c.ow:Q,S=n.selectProps,v=S===void 0?c.FD:S,V=n.requestOptions,X=V===void 0?c.FD:V,m=n.spin,Y=n.required,y=n.disabled,s=n.size,te=n.placeholder,C=n.actionRef,D=d()(n,ue),j=(0,p.JY)({placeholder:te,restProps:D,isSelectType:!0}),q=(0,F.useContext)(U.e),w=q.disabled,k=[{validator:function(ae,E){var o="",A=W==null?void 0:W.find(function(M){return(M==null?void 0:M.value)===E});return(!E&&E!==0&&!A&&!(I&&T===E)||((v==null?void 0:v.mode)==="multiple"||(v==null?void 0:v.mode)==="tags")&&E&&E.length<=0)&&(o=Y?"".concat(j,"!"):""),o?Promise.reject(o):Promise.resolve()}}];return(0,O.jsx)(r.Z,t()(t()({required:Y,_isSelectType:!0,rules:k},D),{},{children:(0,O.jsx)(de,{name:D.name,size:s,disabled:y!=null?y:w,placeholder:j,dependencies:D==null?void 0:D.dependencies,options:W,request:le,debounceTime:L,all:I,outLoading:m,allValue:T,allLabel:K,selectProps:v,requestOptions:X,actionRef:C})}))},oe=_e},61117:function(se,f,e){var R=e(84640);f.Z=R.Z},4390:function(se,f,e){var R=e(97857),t=e.n(R),B=e(13769),d=e.n(B),U=e(78957),r=e(99859),p=e(40964),c=e(61117),F=e(89889),h=e(85893),Z=["submitter"],ee=["render"],g=function(G){var l=G.submitter,$=d()(G,Z),P=typeof l=="boolean"||!l?p.FD:l,H=P.render,J=d()(P,ee),x=l===void 0||l?t()({render:function(b){var O=Array.isArray(b)&&b.length>1?(0,h.jsx)(U.Z,{children:b}):b;return(0,h.jsx)(r.Z.Item,{colon:!1,className:"lightd-form-submitter",style:{marginBottom:0,paddingLeft:typeof(l==null?void 0:l.buttonAlign)=="number"?"".concat(l==null?void 0:l.buttonAlign,"px"):0},wrapperCol:P==null?void 0:P.wrapperCol,children:(0,h.jsx)("div",{style:{display:"flex",justifyContent:typeof(l==null?void 0:l.buttonAlign)=="string"?l==null?void 0:l.buttonAlign:"initial"},children:H?(0,h.jsx)(h.Fragment,{children:H(O,P)}):O})})}},J):!1;return(0,h.jsx)(F.Z,t()({submitter:x,contentRender:function(b,O){return(0,h.jsxs)(h.Fragment,{children:[b,O]})}},$))};g.Item=c.Z,g.List=r.Z.List,g.Provider=r.Z.Provider,g.ErrorList=r.Z.ErrorList,g.useForm=r.Z.useForm,g.useFormInstance=r.Z.useFormInstance,g.useWatch=r.Z.useWatch,f.Z=g},80342:function(se,f,e){var R=e(2477),t=e(67294),B=function(){var r=(0,t.useRef)(!0),p=r.current;return p&&(r.current=!1,!0)},d=function(r,p){var c=B();(0,R.Z)(function(){if(!c)return r()},p)};f.Z=d}}]);
