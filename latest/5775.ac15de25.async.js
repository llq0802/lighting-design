"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[5775],{34462:function(Ee,Z,e){e.d(Z,{j:function(){return pe}});var Y=e(42122),_=e.n(Y),re=e(17061),L=e.n(re),de=e(17156),h=e.n(de),U=e(861),u=e.n(U),f=e(27424),E=e.n(f),ue=e(70215),v=e.n(ue),ce=e(92652),z=e(77598),a=e(66997),ae=e(93812),W=e(22638),le=e(638),ve=e(78045),_e=e(57953),J=e(33168),g=e(67294),y=e(85893),Pe=["name","value","onChange","outLoading","dependencies","disabled","options","request","debounceTime","all","allValue","allLabel","notDependRender","radioProps"],pe={marginLeft:40,width:"fit-content"},oe=function(t){var De=t.name,ge=t.value,Me=t.onChange,he=t.outLoading,P=he===void 0?{}:he,n=t.dependencies,te=n===void 0?[]:n,N=t.disabled,K=t.options,H=K===void 0?[]:K,F=t.request,Q=t.debounceTime,$=t.all,C=$===void 0?!1:$,X=t.allValue,R=X===void 0?"all":X,T=t.allLabel,r=T===void 0?"\u5168\u90E8":T,k=t.notDependRender,I=k===void 0?function(){return(0,y.jsx)("span",{children:"\u8BF7\u5148\u9009\u62E9\u4F9D\u8D56\u9879"})}:k,B=t.radioProps,d=B===void 0?{}:B,b=v()(t,Pe),m=(0,g.useState)([]),w=E()(m,2),l=w[0],S=w[1],fe=(0,ce.Z)((P==null?void 0:P.spinning)||!1),O=E()(fe,2),V=O[0],c=O[1],D=(0,J.YZ)(),x=(0,g.useMemo)(function(){return Reflect.has(P,"spinning")},[P]);(0,z.Z)(function(){x&&c((P==null?void 0:P.spinning)||!1)},[P]);var be=le.Z.useFormInstance(),q=(0,J.RZ)(te,b),ee=(0,J.Zm)(q),j=(0,g.useMemo)(function(){var o=d.options||H;if(C&&o!==null&&o!==void 0&&o.length){var s=[{label:r,value:R}].concat(u()(o));return s}return o},[C,r,R,H,d.options]),G=(0,a.Z)(F||h()(L()().mark(function o(){return L()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",[]);case 1:case"end":return ne.stop()}},o)})),{manual:!0,debounceWait:Q,onSuccess:function(s){x||c(!1),C&&(s==null?void 0:s.length)>0?S([{label:r,value:R}].concat(u()(s))):S(u()(s))},onError:function(){x||c(!1),S([])}}),Oe=G.run;(0,ae.Z)(function(){F&&(D?h()(L()().mark(function o(){var s;return L()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,x||c(!0),M.next=4,F.apply(void 0,u()(q));case 4:s=M.sent,C&&(s==null?void 0:s.length)>0?S([{label:r,value:R}].concat(u()(s))):S(u()(s)),M.next=11;break;case 8:M.prev=8,M.t0=M.catch(0),S([]);case 11:x||c(!1);case 12:case"end":return M.stop()}},o,null,[[0,8]])}))():(ge!==void 0&&be.setFieldValue(De,void 0),ee||(x||c(!0),Oe.apply(void 0,u()(q)))))},[q]);var Le=(0,g.useMemo)(function(){return ee?[]:(l==null?void 0:l.length)>0?l:j.length>0?j:[]},[ee,j,l]),se=(0,W.Z)(function(o){d!=null&&d.onChange&&(d==null||d.onChange(o)),Me(o)}),ie=(0,y.jsx)(ve.ZP.Group,_()(_()({options:Le,disabled:N!=null?N:ee},d),{},{value:ge,onChange:se}));return(0,y.jsx)(_e.Z,_()(_()({spinning:V,style:pe},P),{},{children:ee?I():ie}))};Z.Z=oe},46368:function(Ee,Z,e){e.d(Z,{Z:function(){return he}});var Y=e(42122),_=e.n(Y),re=e(70215),L=e.n(re),de=e(89889),h=e(84640),U=e(33168),u=e(67294),f=e(861),E=e.n(f),ue=e(17061),v=e.n(ue),ce=e(17156),z=e.n(ce),a=e(27424),ae=e.n(a),W=e(92652),le=e(77598),ve=e(66997),_e=e(93812),J=e(22638),g=e(638),y=e(57953),Pe=e(34041),pe=e(34462),oe=e(85893),We=["value","onChange","dependencies","placeholder","options","request","debounceTime","all","disabled","allValue","allLabel","selectProps","outLoading","name"],t=function(n){var te=n.value,N=n.onChange,K=n.dependencies,H=K===void 0?[]:K,F=n.placeholder,Q=n.options,$=Q===void 0?[]:Q,C=n.request,X=n.debounceTime,R=n.all,T=R===void 0?!1:R,r=n.disabled,k=n.allValue,I=k===void 0?"":k,B=n.allLabel,d=B===void 0?"\u5168\u90E8":B,b=n.selectProps,m=b===void 0?{}:b,w=n.outLoading,l=w===void 0?{}:w,S=n.name,fe=L()(n,We),O=(0,u.useState)([]),V=ae()(O,2),c=V[0],D=V[1],x=(0,U.YZ)(),be=(0,W.Z)((l==null?void 0:l.spinning)||!1),q=ae()(be,2),ee=q[0],j=q[1],G=(0,u.useMemo)(function(){return Reflect.has(l,"spinning")},[l]);(0,le.Z)(function(){G&&j((l==null?void 0:l.spinning)||!1)},[l]);var Oe=(0,ve.Z)(C||z()(v()().mark(function p(){return v()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.abrupt("return",[]);case 1:case"end":return me.stop()}},p)})),{manual:!0,debounceWait:X,onSuccess:function(i){G||j(!1),T&&(i==null?void 0:i.length)>0?D([{label:d,value:I}].concat(E()(i))):D(E()(i))},onError:function(){D([]),G||j(!1)}}),Le=Oe.run,se=(0,U.RZ)(H,fe),ie=(0,U.Zm)(se),o=(0,u.useMemo)(function(){var p=m.options||$;if(T&&(p==null?void 0:p.length)>0){var i=[{label:d,value:I}].concat(E()(p));return i}return p},[T,d,I,$,m.options]),s=g.Z.useFormInstance();(0,_e.Z)(function(){C&&(x?z()(v()().mark(function p(){var i;return v()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,G||j(!0),A.next=4,C.apply(void 0,E()(se));case 4:i=A.sent,T&&(i==null?void 0:i.length)>0?D([{label:d,value:I}].concat(E()(i))):D(E()(i)),A.next=11;break;case 8:A.prev=8,A.t0=A.catch(0),D([]);case 11:G||j(!1);case 12:case"end":return A.stop()}},p,null,[[0,8]])}))():(te!==void 0&&s.setFieldValue(S,void 0),ie||(G||j(!0),Le.apply(void 0,E()(se)))))},[se]);var ne=(0,u.useMemo)(function(){return ie?[]:(c==null?void 0:c.length)>0?c:o.length>0?o:[]},[ie,o,c]),M=(0,J.Z)(function(p,i){m!=null&&m.onChange&&(m==null||m.onChange(p,i)),N(p)});return(0,oe.jsx)(y.Z,_()(_()({spinning:ee,style:pe.j},l),{},{children:(0,oe.jsx)(Pe.Z,_()(_()({disabled:r!=null?r:ie,options:ne,placeholder:F,allowClear:!0,style:{width:"100%"}},m),{},{value:te,onChange:M}))}))},De=t,ge=["request","debounceTime","all","allValue","allLabel","options","selectProps","spin","required","disabled","placeholder"],Me=function(n){var te=n.request,N=n.debounceTime,K=n.all,H=K===void 0?!1:K,F=n.allValue,Q=F===void 0?"":F,$=n.allLabel,C=$===void 0?"\u5168\u90E8":$,X=n.options,R=X===void 0?[]:X,T=n.selectProps,r=T===void 0?{}:T,k=n.spin,I=n.required,B=n.disabled,d=n.placeholder,b=L()(n,ge),m=(0,U.JY)({placeholder:d,restProps:b,isSelectType:!0}),w=(0,u.useContext)(de.e),l=w.disabled;return(0,oe.jsx)(h.Z,_()(_()({required:I,_isSelectType:!0,rules:[{validator:function(fe,O){var V="",c=R.find(function(D){return(D==null?void 0:D.value)===O});return(!O&&O!==0&&!c&&!(H&&Q===O)||((r==null?void 0:r.mode)==="multiple"||(r==null?void 0:r.mode)==="tags")&&O&&O.length<=0)&&(V=I?"".concat(m,"!"):""),V?Promise.reject(V):Promise.resolve()}}]},b),{},{children:(0,oe.jsx)(De,{name:b.name,disabled:B!=null?B:l,placeholder:m,dependencies:b==null?void 0:b.dependencies,options:R,request:te,debounceTime:N,all:H,outLoading:k,allValue:Q,allLabel:C,selectProps:r})}))},he=Me},61117:function(Ee,Z,e){var Y=e(84640);Z.Z=Y.Z},4390:function(Ee,Z,e){var Y=e(42122),_=e.n(Y),re=e(70215),L=e.n(re),de=e(26713),h=e(638),U=e(61117),u=e(89889),f=e(85893),E=["submitter"],ue=["render"],v=function(z){var a=z.submitter,ae=L()(z,E),W=typeof a=="boolean"||!a?{}:a,le=W.render,ve=L()(W,ue),_e=typeof a=="undefined"||a?_()({render:function(g){var y=Array.isArray(g)&&g.length>1?(0,f.jsx)(de.Z,{children:g}):g;return(0,f.jsx)(h.Z.Item,{colon:!1,className:"lightd-form-submitter",style:{marginBottom:0,paddingLeft:typeof(a==null?void 0:a.buttonAlign)=="number"?"".concat(a==null?void 0:a.buttonAlign,"px"):0},wrapperCol:W==null?void 0:W.wrapperCol,children:(0,f.jsx)("div",{style:{display:"flex",justifyContent:typeof(a==null?void 0:a.buttonAlign)=="string"?a==null?void 0:a.buttonAlign:"initial"},children:le?(0,f.jsx)(f.Fragment,{children:le(y,W)}):y})})}},ve):!1;return(0,f.jsx)(u.Z,_()({submitter:_e,contentRender:function(g,y){return(0,f.jsxs)(f.Fragment,{children:[g,y]})}},ae))};v.Item=U.Z,v.List=h.Z.List,v.Provider=h.Z.Provider,v.ErrorList=h.Z.ErrorList,v.useForm=h.Z.useForm,v.useFormInstance=h.Z.useFormInstance,v.useWatch=h.Z.useWatch,Z.Z=v}}]);
