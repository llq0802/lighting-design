"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[5775],{34462:function(Me,K,e){e.d(K,{j:function(){return fe}});var N=e(42122),s=e.n(N),ie=e(17061),C=e.n(ie),M=e(17156),f=e.n(M),re=e(861),p=e.n(re),d=e(27424),ee=e.n(d),O=e(70215),E=e.n(O),H=e(92652),ne=e(77598),l=e(3917),de=e(93812),b=e(22638),ae=e(99859),ue=e(78045),ve=e(57953),Q=e(40964),D=e(33168),L=e(67294),_e=e(85893),Oe=["name","value","onChange","outLoading","dependencies","disabled","options","request","debounceTime","all","allValue","allLabel","notDependRender","radioProps","requestOptions"],fe={marginLeft:40,width:"fit-content"},le=function(t){var be=t.name,Ee=t.value,pe=t.onChange,m=t.outLoading,De=t.dependencies,n=De===void 0?Q.ow:De,F=t.disabled,$=t.options,S=t.request,oe=t.debounceTime,X=t.all,R=X===void 0?!1:X,V=t.allValue,T=V===void 0?"all":V,k=t.allLabel,j=k===void 0?"\u5168\u90E8":k,A=t.notDependRender,g=A===void 0?(0,_e.jsx)("span",{children:"\u8BF7\u5148\u9009\u62E9\u4F9D\u8D56\u9879"}):A,x=t.radioProps,u=x===void 0?Q.FD:x,q=t.requestOptions,Z=q===void 0?Q.FD:q,G=E()(t,Oe),h=(0,L.useState)([]),o=ee()(h,2),W=o[0],I=o[1],me=(0,H.Z)((m==null?void 0:m.spinning)||!1),ce=ee()(me,2),Pe=ce[0],v=ce[1],y=(0,D.YZ)(),_=(0,L.useMemo)(function(){return Reflect.has(m!=null?m:{},"spinning")},[m]);(0,ne.Z)(function(){_&&v((m==null?void 0:m.spinning)||!1)},[m]);var w=ae.Z.useFormInstance(),se=(0,D.RZ)(n,G),Y=(0,D.Zm)(se),ge=(0,L.useMemo)(function(){var i,a=(i=u.options||$)!==null&&i!==void 0?i:[];if(R&&a!==null&&a!==void 0&&a.length){var U=[{label:j,value:T}].concat(p()(a));return U}return a},[R,j,T,$,u.options]),z=(0,l.Z)(S||f()(C()().mark(function i(){return C()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",[]);case 1:case"end":return U.stop()}},i)})),s()(s()({},Z),{},{manual:!0,debounceWait:oe,onSuccess:function(a){_||v(!1),R&&(a==null?void 0:a.length)>0?I([{label:j,value:T}].concat(p()(a))):I(p()(a))},onError:function(){_||v(!1),I([])}})),J=z.run;(0,de.Z)(function(){S&&(y?f()(C()().mark(function i(){var a;return C()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,_||v(!0),P.next=4,S.apply(void 0,p()(se));case 4:a=P.sent,R&&(a==null?void 0:a.length)>0?I([{label:j,value:T}].concat(p()(a))):I(p()(a)),P.next=11;break;case 8:P.prev=8,P.t0=P.catch(0),I([]);case 11:_||v(!1);case 12:case"end":return P.stop()}},i,null,[[0,8]])}))():(Ee!==void 0&&w.setFieldValue(be,void 0),Y||(_||v(!0),J.apply(void 0,p()(se)))))},[se]);var Le=(0,L.useMemo)(function(){return Y?[]:(W==null?void 0:W.length)>0?W:ge.length>0?ge:[]},[Y,ge,W]),We=(0,b.Z)(function(i){u!=null&&u.onChange&&(u==null||u.onChange(i)),pe==null||pe(i)}),te=(0,_e.jsx)(ue.ZP.Group,s()(s()({options:Le,disabled:F!=null?F:Y},u),{},{value:Ee,onChange:We}));return(0,_e.jsx)(ve.Z,s()(s()({spinning:Pe,style:fe},m),{},{children:Y?g:te}))};K.Z=le},46368:function(Me,K,e){e.d(K,{Z:function(){return m}});var N=e(42122),s=e.n(N),ie=e(70215),C=e.n(ie),M=e(40964),f=e(89889),re=e(84640),p=e(33168),d=e(67294),ee=e(861),O=e.n(ee),E=e(17061),H=e.n(E),ne=e(17156),l=e.n(ne),de=e(27424),b=e.n(de),ae=e(92652),ue=e(77598),ve=e(3917),Q=e(93812),D=e(22638),L=e(99859),_e=e(57953),Oe=e(34041),fe=e(34462),le=e(85893),ye=["value","onChange","dependencies","placeholder","options","request","debounceTime","all","disabled","allValue","allLabel","selectProps","outLoading","requestOptions","name"],t=function(n){var F=n.value,$=n.onChange,S=n.dependencies,oe=S===void 0?M.ow:S,X=n.placeholder,R=n.options,V=R===void 0?M.ow:R,T=n.request,k=n.debounceTime,j=n.all,A=j===void 0?!1:j,g=n.disabled,x=n.allValue,u=x===void 0?"":x,q=n.allLabel,Z=q===void 0?"\u5168\u90E8":q,G=n.selectProps,h=G===void 0?M.FD:G,o=n.outLoading,W=n.requestOptions,I=W===void 0?M.FD:W,me=n.name,ce=C()(n,ye),Pe=(0,d.useState)([]),v=b()(Pe,2),y=v[0],_=v[1],w=(0,p.YZ)(),se=(0,ae.Z)((o==null?void 0:o.spinning)||!1),Y=b()(se,2),ge=Y[0],z=Y[1],J=(0,d.useMemo)(function(){return Reflect.has(o!=null?o:{},"spinning")},[o]);(0,ue.Z)(function(){J&&z((o==null?void 0:o.spinning)||!1)},[o]);var Le=(0,ve.Z)(T||l()(H()().mark(function c(){return H()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.abrupt("return",[]);case 1:case"end":return he.stop()}},c)})),s()(s()({},I),{},{manual:!0,debounceWait:k,onSuccess:function(r){J||z(!1),A&&(r==null?void 0:r.length)>0?_([{label:Z,value:u}].concat(O()(r))):_(O()(r))},onError:function(){_([]),J||z(!1)}})),We=Le.run,te=(0,p.RZ)(oe,ce),i=(0,p.Zm)(te),a=(0,d.useMemo)(function(){var c=h.options||V;if(A&&(c==null?void 0:c.length)>0){var r=[{label:Z,value:u}].concat(O()(c));return r}return c},[A,Z,u,V,h.options]),U=L.Z.useFormInstance();(0,Q.Z)(function(){T&&(w?l()(H()().mark(function c(){var r;return H()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,J||z(!0),B.next=4,T.apply(void 0,O()(te));case 4:r=B.sent,A&&(r==null?void 0:r.length)>0?_([{label:Z,value:u}].concat(O()(r))):_(O()(r)),B.next=11;break;case 8:B.prev=8,B.t0=B.catch(0),_([]);case 11:J||z(!1);case 12:case"end":return B.stop()}},c,null,[[0,8]])}))():(F!==void 0&&U.setFieldValue(me,void 0),i||(J||z(!0),We.apply(void 0,O()(te)))))},[te]);var P=(0,d.useMemo)(function(){return i?[]:(y==null?void 0:y.length)>0?y:a.length>0?a:[]},[i,a,y]),Ce=(0,D.Z)(function(c,r){h!=null&&h.onChange&&(h==null||h.onChange(c,r)),$==null||$(c)});return(0,le.jsx)(_e.Z,s()(s()({spinning:ge,style:fe.j},o),{},{children:(0,le.jsx)(Oe.Z,s()(s()({disabled:g!=null?g:i,options:P,placeholder:X,allowClear:!0,style:{width:"100%"}},h),{},{value:F,onChange:Ce}))}))},be=t,Ee=["request","debounceTime","all","allValue","allLabel","options","selectProps","requestOptions","spin","required","disabled","placeholder"],pe=function(n){var F=n.request,$=n.debounceTime,S=n.all,oe=S===void 0?!1:S,X=n.allValue,R=X===void 0?"":X,V=n.allLabel,T=V===void 0?"\u5168\u90E8":V,k=n.options,j=k===void 0?M.ow:k,A=n.selectProps,g=A===void 0?M.FD:A,x=n.requestOptions,u=x===void 0?M.FD:x,q=n.spin,Z=n.required,G=n.disabled,h=n.placeholder,o=C()(n,Ee),W=(0,p.JY)({placeholder:h,restProps:o,isSelectType:!0}),I=(0,d.useContext)(f.e),me=I.disabled;return(0,le.jsx)(re.Z,s()(s()({required:Z,_isSelectType:!0,rules:[{validator:function(Pe,v){var y="",_=j.find(function(w){return(w==null?void 0:w.value)===v});return(!v&&v!==0&&!_&&!(oe&&R===v)||((g==null?void 0:g.mode)==="multiple"||(g==null?void 0:g.mode)==="tags")&&v&&v.length<=0)&&(y=Z?"".concat(W,"!"):""),y?Promise.reject(y):Promise.resolve()}}]},o),{},{children:(0,le.jsx)(be,{name:o.name,disabled:G!=null?G:me,placeholder:W,dependencies:o==null?void 0:o.dependencies,options:j,request:F,debounceTime:$,all:oe,outLoading:q,allValue:R,allLabel:T,selectProps:g,requestOptions:u})}))},m=pe},61117:function(Me,K,e){var N=e(84640);K.Z=N.Z},4390:function(Me,K,e){var N=e(42122),s=e.n(N),ie=e(70215),C=e.n(ie),M=e(93421),f=e(99859),re=e(61117),p=e(89889),d=e(85893),ee=["submitter"],O=["render"],E=function(ne){var l=ne.submitter,de=C()(ne,ee),b=typeof l=="boolean"||!l?{}:l,ae=b.render,ue=C()(b,O),ve=typeof l=="undefined"||l?s()({render:function(D){var L=Array.isArray(D)&&D.length>1?(0,d.jsx)(M.Z,{children:D}):D;return(0,d.jsx)(f.Z.Item,{colon:!1,className:"lightd-form-submitter",style:{marginBottom:0,paddingLeft:typeof(l==null?void 0:l.buttonAlign)=="number"?"".concat(l==null?void 0:l.buttonAlign,"px"):0},wrapperCol:b==null?void 0:b.wrapperCol,children:(0,d.jsx)("div",{style:{display:"flex",justifyContent:typeof(l==null?void 0:l.buttonAlign)=="string"?l==null?void 0:l.buttonAlign:"initial"},children:ae?(0,d.jsx)(d.Fragment,{children:ae(L,b)}):L})})}},ue):!1;return(0,d.jsx)(p.Z,s()({submitter:ve,contentRender:function(D,L){return(0,d.jsxs)(d.Fragment,{children:[D,L]})}},de))};E.Item=re.Z,E.List=f.Z.List,E.Provider=f.Z.Provider,E.ErrorList=f.Z.ErrorList,E.useForm=f.Z.useForm,E.useFormInstance=f.Z.useFormInstance,E.useWatch=f.Z.useWatch,K.Z=E}}]);
