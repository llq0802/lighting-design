"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[5775],{34462:function(se,f,e){e.d(f,{j:function(){return b}});var R=e(19632),t=e.n(R),U=e(97857),d=e.n(U),F=e(15009),r=e.n(F),p=e(99289),c=e.n(p),Z=e(13769),h=e.n(Z),K=e(3917),ee=e(78234),g=e(22638),ie=e(99859),H=e(78045),l=e(75081),$=e(33168),P=e(40964),J=e(80342),N=e(67294),x=e(85893),ne=["name","actionRef","value","onChange","outLoading","dependencies","disabled","options","request","debounceTime","all","allValue","allLabel","notDependRender","radioProps","requestOptions"],b={marginLeft:40,width:"fit-content"},O=function(a){var de=a.name,ue=a.actionRef,_e=a.value,oe=a.onChange,ve=a.outLoading,n=a.dependencies,le=n===void 0?P.ow:n,L=a.disabled,u=a.options,y=a.request,Y=a.debounceTime,I=a.all,_=I===void 0?!1:I,T=a.allValue,Q=T===void 0?"all":T,W=a.allLabel,S=W===void 0?"\u5168\u90E8":W,v=a.notDependRender,V=v===void 0?(0,x.jsx)("span",{children:"\u8BF7\u5148\u9009\u62E9\u4F9D\u8D56\u9879"}):v,X=a.radioProps,m=X===void 0?P.FD:X,z=a.requestOptions,A=z===void 0?P.FD:z,s=h()(a,ne),te=ie.Z.useFormInstance(),C=(0,$.RZ)(le,s),D=(0,$.Zm)(C),j=(0,K.Z)(y||c()(r()().mark(function o(){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",[]);case 1:case"end":return M.stop()}},o)})),d()(d()({},A),{},{manual:!0,debounceWait:Y})),q=j.run,k=j.loading,w=j.data;(0,ee.Z)(function(){var o;!y||u!=null&&u.length||(o=m.options)!==null&&o!==void 0&&o.length||q.apply(void 0,t()(C))}),(0,J.Z)(function(){var o;!y||u!=null&&u.length||(o=m.options)!==null&&o!==void 0&&o.length||(te.setFieldValue(de,void 0),D||q.apply(void 0,t()(C)))},C);var G=(0,N.useMemo)(function(){var o=(0,$.FW)(u,m.options,w);return _&&(o==null?void 0:o.length)>0?[{label:S,value:Q}].concat(t()(o)):o},[_,u,w,m.options]);(0,N.useImperativeHandle)(ue,function(){return j});var ae=(0,g.Z)(function(o){var B;oe==null||oe(o),m==null||(B=m.onChange)===null||B===void 0||B.call(m,o)}),E=(0,x.jsx)(H.ZP.Group,d()(d()(d()({},s),{},{options:G,disabled:L!=null?L:D},m),{},{value:_e,onChange:ae}));return(0,x.jsx)(l.Z,d()(d()({spinning:k,style:b},ve),{},{children:D?V:E}))};f.Z=O},46368:function(se,f,e){e.d(f,{Z:function(){return oe}});var R=e(97857),t=e.n(R),U=e(13769),d=e.n(U),F=e(89889),r=e(84640),p=e(33168),c=e(40964),Z=e(67294),h=e(19632),K=e.n(h),ee=e(15009),g=e.n(ee),ie=e(99289),H=e.n(ie),l=e(3917),$=e(78234),P=e(22638),J=e(99859),N=e(75081),x=e(34041),ne=e(34462),b=e(80342),O=e(85893),me=["value","onChange","dependencies","placeholder","options","request","debounceTime","all","disabled","allValue","allLabel","selectProps","outLoading","requestOptions","name","actionRef"],a=function(n){var le=n.value,L=n.onChange,u=n.dependencies,y=u===void 0?c.ow:u,Y=n.placeholder,I=n.options,_=I===void 0?c.ow:I,T=n.request,Q=n.debounceTime,W=n.all,S=W===void 0?!1:W,v=n.disabled,V=n.allValue,X=V===void 0?"":V,m=n.allLabel,z=m===void 0?"\u5168\u90E8":m,A=n.selectProps,s=A===void 0?c.FD:A,te=n.outLoading,C=n.requestOptions,D=C===void 0?c.FD:C,j=n.name,q=n.actionRef,k=d()(n,me),w=J.Z.useFormInstance(),G=(0,p.RZ)(y,k),ae=(0,p.Zm)(G),E=(0,l.Z)(T||H()(g()().mark(function i(){return g()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.abrupt("return",[]);case 1:case"end":return re.stop()}},i)})),t()(t()({},D),{},{manual:!0,debounceWait:Q})),o=E.run,B=E.loading,M=E.data;(0,$.Z)(function(){var i;!T||_!=null&&_.length||(i=s.options)!==null&&i!==void 0&&i.length||o.apply(void 0,K()(G))}),(0,Z.useImperativeHandle)(q,function(){return E}),(0,b.Z)(function(){var i;!T||_!=null&&_.length||(i=s.options)!==null&&i!==void 0&&i.length||(w.setFieldValue(j,void 0),ae||o.apply(void 0,K()(G)))},G);var ce=(0,Z.useMemo)(function(){var i=(0,p.FW)(_,s.options,M);return S&&(i==null?void 0:i.length)>0?[{label:z,value:X}].concat(K()(i)):i},[S,_,M,s.options]),ge=(0,P.Z)(function(i,pe){s!=null&&s.onChange&&(s==null||s.onChange(i,pe)),L==null||L(i)});return(0,O.jsx)(N.Z,t()(t()({spinning:B,style:ne.j},te),{},{children:(0,O.jsx)(x.default,t()(t()(t()({},k),{},{disabled:v!=null?v:ae,options:ce,placeholder:Y,allowClear:!0},s),{},{style:t()({width:"100%"},s==null?void 0:s.style),value:le,onChange:ge}))}))},de=a,ue=["request","debounceTime","all","allValue","allLabel","options","selectProps","requestOptions","spin","required","disabled","size","placeholder","actionRef"],_e=function(n){var le=n.request,L=n.debounceTime,u=n.all,y=u===void 0?!1:u,Y=n.allValue,I=Y===void 0?"":Y,_=n.allLabel,T=_===void 0?"\u5168\u90E8":_,Q=n.options,W=Q===void 0?c.ow:Q,S=n.selectProps,v=S===void 0?c.FD:S,V=n.requestOptions,X=V===void 0?c.FD:V,m=n.spin,z=n.required,A=n.disabled,s=n.size,te=n.placeholder,C=n.actionRef,D=d()(n,ue),j=(0,p.JY)({placeholder:te,restProps:D,isSelectType:!0}),q=(0,Z.useContext)(F.e),k=q.disabled,w=[{validator:function(ae,E){var o="",B=W==null?void 0:W.find(function(M){return(M==null?void 0:M.value)===E});return(!E&&E!==0&&!B&&!(y&&I===E)||((v==null?void 0:v.mode)==="multiple"||(v==null?void 0:v.mode)==="tags")&&E&&E.length<=0)&&(o=z?"".concat(j,"!"):""),o?Promise.reject(o):Promise.resolve()}}];return(0,O.jsx)(r.Z,t()(t()({required:z,_isSelectType:!0,rules:w},D),{},{children:(0,O.jsx)(de,{name:D.name,size:s,disabled:A!=null?A:k,placeholder:j,dependencies:D==null?void 0:D.dependencies,options:W,request:le,debounceTime:L,all:y,outLoading:m,allValue:I,allLabel:T,selectProps:v,requestOptions:X,actionRef:C})}))},oe=_e},61117:function(se,f,e){var R=e(84640);f.Z=R.Z},4390:function(se,f,e){var R=e(97857),t=e.n(R),U=e(13769),d=e.n(U),F=e(78957),r=e(99859),p=e(40964),c=e(61117),Z=e(89889),h=e(85893),K=["submitter"],ee=["render"],g=function(H){var l=H.submitter,$=d()(H,K),P=typeof l=="boolean"||!l?p.FD:l,J=P.render,N=d()(P,ee),x=l===void 0||l?t()({render:function(b){var O=Array.isArray(b)&&b.length>1?(0,h.jsx)(F.Z,{children:b}):b;return(0,h.jsx)(r.Z.Item,{colon:!1,className:"lightd-form-submitter",style:{marginBottom:0,paddingLeft:typeof(l==null?void 0:l.buttonAlign)=="number"?"".concat(l==null?void 0:l.buttonAlign,"px"):0},wrapperCol:P==null?void 0:P.wrapperCol,children:(0,h.jsx)("div",{style:{display:"flex",justifyContent:typeof(l==null?void 0:l.buttonAlign)=="string"?l==null?void 0:l.buttonAlign:"initial"},children:J?(0,h.jsx)(h.Fragment,{children:J(O,P)}):O})})}},N):!1;return(0,h.jsx)(Z.Z,t()({submitter:x,contentRender:function(b,O){return(0,h.jsxs)(h.Fragment,{children:[b,O]})}},$))};g.Item=c.Z,g.List=r.Z.List,g.Provider=r.Z.Provider,g.ErrorList=r.Z.ErrorList,g.useForm=r.Z.useForm,g.useFormInstance=r.Z.useFormInstance,g.useWatch=r.Z.useWatch,f.Z=g},80342:function(se,f,e){var R=e(2477),t=e(67294),U=function(){var r=(0,t.useRef)(!0),p=r.current;return p&&(r.current=!1,!0)},d=function(r,p){var c=U();(0,R.Z)(function(){if(!c)return r()},p)};f.Z=d}}]);
