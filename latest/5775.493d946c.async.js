"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[5775],{34462:function(Me,U,e){e.d(U,{j:function(){return fe}});var N=e(42122),s=e.n(N),ie=e(17061),R=e.n(ie),M=e(17156),f=e.n(M),re=e(861),p=e.n(re),d=e(27424),ee=e.n(d),O=e(70215),E=e.n(O),H=e(92652),ne=e(77598),l=e(3917),de=e(93812),b=e(22638),ae=e(99859),ue=e(78045),ve=e(57953),Q=e(40964),D=e(33168),L=e(67294),_e=e(85893),Oe=["name","value","onChange","outLoading","dependencies","disabled","options","request","debounceTime","all","allValue","allLabel","notDependRender","radioProps","requestOptions"],fe={marginLeft:40,width:"fit-content"},le=function(t){var be=t.name,Ee=t.value,pe=t.onChange,m=t.outLoading,De=t.dependencies,n=De===void 0?Q.ow:De,F=t.disabled,$=t.options,B=t.request,oe=t.debounceTime,X=t.all,T=X===void 0?!1:X,Y=t.allValue,K=Y===void 0?"all":Y,q=t.allLabel,j=q===void 0?"\u5168\u90E8":q,y=t.notDependRender,g=y===void 0?(0,_e.jsx)("span",{children:"\u8BF7\u5148\u9009\u62E9\u4F9D\u8D56\u9879"}):y,V=t.radioProps,u=V===void 0?Q.FD:V,w=t.requestOptions,S=w===void 0?Q.FD:w,x=E()(t,Oe),h=(0,L.useState)([]),o=ee()(h,2),W=o[0],A=o[1],me=(0,H.Z)((m==null?void 0:m.spinning)||!1),ce=ee()(me,2),Pe=ce[0],v=ce[1],C=(0,D.YZ)(),_=(0,L.useMemo)(function(){return Reflect.has(m!=null?m:{},"spinning")},[m]);(0,ne.Z)(function(){_&&v((m==null?void 0:m.spinning)||!1)},[m]);var k=ae.Z.useFormInstance(),se=(0,D.RZ)(n,x),G=(0,D.Zm)(se),ge=(0,L.useMemo)(function(){var i,a=(i=u.options||$)!==null&&i!==void 0?i:[];if(T&&a!==null&&a!==void 0&&a.length){var Z=[{label:j,value:K}].concat(p()(a));return Z}return a},[T,j,K,$,u.options]),z=(0,l.Z)(B||f()(R()().mark(function i(){return R()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",[]);case 1:case"end":return Z.stop()}},i)})),s()(s()({},S),{},{manual:!0,debounceWait:oe,onSuccess:function(a){_||v(!1),T&&(a==null?void 0:a.length)>0?A([{label:j,value:K}].concat(p()(a))):A(p()(a))},onError:function(){_||v(!1),A([])}})),J=z.run;(0,de.Z)(function(){B&&(C?f()(R()().mark(function i(){var a;return R()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,_||v(!0),P.next=4,B.apply(void 0,p()(se));case 4:a=P.sent,T&&(a==null?void 0:a.length)>0?A([{label:j,value:K}].concat(p()(a))):A(p()(a)),P.next=11;break;case 8:P.prev=8,P.t0=P.catch(0),A([]);case 11:_||v(!1);case 12:case"end":return P.stop()}},i,null,[[0,8]])}))():(Ee!==void 0&&k.setFieldValue(be,void 0),G||(_||v(!0),J.apply(void 0,p()(se)))))},[se]);var Le=(0,L.useMemo)(function(){return G?[]:(W==null?void 0:W.length)>0?W:ge.length>0?ge:[]},[G,ge,W]),We=(0,b.Z)(function(i){u!=null&&u.onChange&&(u==null||u.onChange(i)),pe==null||pe(i)}),te=(0,_e.jsx)(ue.ZP.Group,s()(s()({options:Le,disabled:F!=null?F:G},u),{},{value:Ee,onChange:We}));return(0,_e.jsx)(ve.Z,s()(s()({spinning:Pe,style:fe},m),{},{children:G?g:te}))};U.Z=le},46368:function(Me,U,e){e.d(U,{Z:function(){return m}});var N=e(42122),s=e.n(N),ie=e(70215),R=e.n(ie),M=e(40964),f=e(89889),re=e(84640),p=e(33168),d=e(67294),ee=e(861),O=e.n(ee),E=e(17061),H=e.n(E),ne=e(17156),l=e.n(ne),de=e(27424),b=e.n(de),ae=e(92652),ue=e(77598),ve=e(3917),Q=e(93812),D=e(22638),L=e(99859),_e=e(57953),Oe=e(34041),fe=e(34462),le=e(85893),Ce=["value","onChange","dependencies","placeholder","options","request","debounceTime","all","disabled","allValue","allLabel","selectProps","outLoading","requestOptions","name"],t=function(n){var F=n.value,$=n.onChange,B=n.dependencies,oe=B===void 0?M.ow:B,X=n.placeholder,T=n.options,Y=T===void 0?M.ow:T,K=n.request,q=n.debounceTime,j=n.all,y=j===void 0?!1:j,g=n.disabled,V=n.allValue,u=V===void 0?"":V,w=n.allLabel,S=w===void 0?"\u5168\u90E8":w,x=n.selectProps,h=x===void 0?M.FD:x,o=n.outLoading,W=n.requestOptions,A=W===void 0?M.FD:W,me=n.name,ce=R()(n,Ce),Pe=(0,d.useState)([]),v=b()(Pe,2),C=v[0],_=v[1],k=(0,p.YZ)(),se=(0,ae.Z)((o==null?void 0:o.spinning)||!1),G=b()(se,2),ge=G[0],z=G[1],J=(0,d.useMemo)(function(){return Reflect.has(o!=null?o:{},"spinning")},[o]);(0,ue.Z)(function(){J&&z((o==null?void 0:o.spinning)||!1)},[o]);var Le=(0,ve.Z)(K||l()(H()().mark(function c(){return H()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.abrupt("return",[]);case 1:case"end":return he.stop()}},c)})),s()(s()({},A),{},{manual:!0,debounceWait:q,onSuccess:function(r){J||z(!1),y&&(r==null?void 0:r.length)>0?_([{label:S,value:u}].concat(O()(r))):_(O()(r))},onError:function(){_([]),J||z(!1)}})),We=Le.run,te=(0,p.RZ)(oe,ce),i=(0,p.Zm)(te),a=(0,d.useMemo)(function(){var c=h.options||Y;if(y&&(c==null?void 0:c.length)>0){var r=[{label:S,value:u}].concat(O()(c));return r}return c},[y,S,u,Y,h.options]),Z=L.Z.useFormInstance();(0,Q.Z)(function(){K&&(k?l()(H()().mark(function c(){var r;return H()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,J||z(!0),I.next=4,K.apply(void 0,O()(te));case 4:r=I.sent,y&&(r==null?void 0:r.length)>0?_([{label:S,value:u}].concat(O()(r))):_(O()(r)),I.next=11;break;case 8:I.prev=8,I.t0=I.catch(0),_([]);case 11:J||z(!1);case 12:case"end":return I.stop()}},c,null,[[0,8]])}))():(F!==void 0&&Z.setFieldValue(me,void 0),i||(J||z(!0),We.apply(void 0,O()(te)))))},[te]);var P=(0,d.useMemo)(function(){return i?[]:(C==null?void 0:C.length)>0?C:a.length>0?a:[]},[i,a,C]),Re=(0,D.Z)(function(c,r){h!=null&&h.onChange&&(h==null||h.onChange(c,r)),$==null||$(c)});return(0,le.jsx)(_e.Z,s()(s()({spinning:ge,style:fe.j},o),{},{children:(0,le.jsx)(Oe.Z,s()(s()({disabled:g!=null?g:i,options:P,placeholder:X,allowClear:!0,style:{width:"100%"}},h),{},{value:F,onChange:Re}))}))},be=t,Ee=["request","debounceTime","all","allValue","allLabel","options","selectProps","requestOptions","spin","required","disabled","placeholder"],pe=function(n){var F=n.request,$=n.debounceTime,B=n.all,oe=B===void 0?!1:B,X=n.allValue,T=X===void 0?"":X,Y=n.allLabel,K=Y===void 0?"\u5168\u90E8":Y,q=n.options,j=q===void 0?M.ow:q,y=n.selectProps,g=y===void 0?M.FD:y,V=n.requestOptions,u=V===void 0?M.FD:V,w=n.spin,S=n.required,x=n.disabled,h=n.placeholder,o=R()(n,Ee),W=(0,p.JY)({placeholder:h,restProps:o,isSelectType:!0}),A=(0,d.useContext)(f.e),me=A.disabled;return(0,le.jsx)(re.Z,s()(s()({required:S,_isSelectType:!0,rules:[{validator:function(Pe,v){var C="",_=j.find(function(k){return(k==null?void 0:k.value)===v});return(!v&&v!==0&&!_&&!(oe&&T===v)||((g==null?void 0:g.mode)==="multiple"||(g==null?void 0:g.mode)==="tags")&&v&&v.length<=0)&&(C=S?"".concat(W,"!"):""),C?Promise.reject(C):Promise.resolve()}}]},o),{},{children:(0,le.jsx)(be,{name:o.name,disabled:x!=null?x:me,placeholder:W,dependencies:o==null?void 0:o.dependencies,options:j,request:F,debounceTime:$,all:oe,outLoading:w,allValue:T,allLabel:K,selectProps:g,requestOptions:u})}))},m=pe},61117:function(Me,U,e){var N=e(84640);U.Z=N.Z},4390:function(Me,U,e){var N=e(42122),s=e.n(N),ie=e(70215),R=e.n(ie),M=e(93421),f=e(99859),re=e(61117),p=e(89889),d=e(85893),ee=["submitter"],O=["render"],E=function(ne){var l=ne.submitter,de=R()(ne,ee),b=typeof l=="boolean"||!l?{}:l,ae=b.render,ue=R()(b,O),ve=typeof l=="undefined"||l?s()({render:function(D){var L=Array.isArray(D)&&D.length>1?(0,d.jsx)(M.Z,{children:D}):D;return(0,d.jsx)(f.Z.Item,{colon:!1,className:"lightd-form-submitter",style:{marginBottom:0,paddingLeft:typeof(l==null?void 0:l.buttonAlign)=="number"?"".concat(l==null?void 0:l.buttonAlign,"px"):0},wrapperCol:b==null?void 0:b.wrapperCol,children:(0,d.jsx)("div",{style:{display:"flex",justifyContent:typeof(l==null?void 0:l.buttonAlign)=="string"?l==null?void 0:l.buttonAlign:"initial"},children:ae?(0,d.jsx)(d.Fragment,{children:ae(L,b)}):L})})}},ue):!1;return(0,d.jsx)(p.Z,s()({submitter:ve,contentRender:function(D,L){return(0,d.jsxs)(d.Fragment,{children:[D,L]})}},de))};E.Item=re.Z,E.List=f.Z.List,E.Provider=f.Z.Provider,E.ErrorList=f.Z.ErrorList,E.useForm=f.Z.useForm,E.useFormInstance=f.Z.useFormInstance,E.useWatch=f.Z.useWatch,U.Z=E}}]);
