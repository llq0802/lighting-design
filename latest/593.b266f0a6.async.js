"use strict";(self.webpackChunklighting_design=self.webpackChunklighting_design||[]).push([[593],{86128:function(We,xe,c){c.d(xe,{Z:function(){return K}});var de=c(87462),F=c(4942),ge=c(91),ve=c(1413),Le=c(15671),De=c(43144),Ke=c(97326),pe=c(32531),ie=c(73568),te=c(94184),z=c.n(te),Y=c(64217),b=c(67294),ue=c(27822),se=function(u){for(var I=u.prefixCls,t=u.level,x=u.isStart,k=u.isEnd,H="".concat(I,"-indent-unit"),o=[],i=0;i<t;i+=1){var h;o.push(b.createElement("span",{key:i,className:z()(H,(h={},(0,F.Z)(h,"".concat(H,"-start"),x[i]),(0,F.Z)(h,"".concat(H,"-end"),k[i]),h))}))}return b.createElement("span",{"aria-hidden":"true",className:"".concat(I,"-indent")},o)},E=b.memo(se),le=c(35381),X=c(1089),_=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],B="open",a="close",s="---",y=function(O){(0,pe.Z)(I,O);var u=(0,ie.Z)(I);function I(){var t;(0,Le.Z)(this,I);for(var x=arguments.length,k=new Array(x),H=0;H<x;H++)k[H]=arguments[H];return t=u.call.apply(u,[this].concat(k)),t.state={dragNodeHighlight:!1},t.selectHandle=void 0,t.cacheIndent=void 0,t.onSelectorClick=function(o){var i=t.props.context.onNodeClick;i(o,(0,X.F)(t.props)),t.isSelectable()?t.onSelect(o):t.onCheck(o)},t.onSelectorDoubleClick=function(o){var i=t.props.context.onNodeDoubleClick;i(o,(0,X.F)(t.props))},t.onSelect=function(o){if(!t.isDisabled()){var i=t.props.context.onNodeSelect;i(o,(0,X.F)(t.props))}},t.onCheck=function(o){if(!t.isDisabled()){var i=t.props,h=i.disableCheckbox,N=i.checked,S=t.props.context.onNodeCheck;if(!(!t.isCheckable()||h)){var Q=!N;S(o,(0,X.F)(t.props),Q)}}},t.onMouseEnter=function(o){var i=t.props.context.onNodeMouseEnter;i(o,(0,X.F)(t.props))},t.onMouseLeave=function(o){var i=t.props.context.onNodeMouseLeave;i(o,(0,X.F)(t.props))},t.onContextMenu=function(o){var i=t.props.context.onNodeContextMenu;i(o,(0,X.F)(t.props))},t.onDragStart=function(o){var i=t.props.context.onNodeDragStart;o.stopPropagation(),t.setState({dragNodeHighlight:!0}),i(o,(0,Ke.Z)(t));try{o.dataTransfer.setData("text/plain","")}catch(h){}},t.onDragEnter=function(o){var i=t.props.context.onNodeDragEnter;o.preventDefault(),o.stopPropagation(),i(o,(0,Ke.Z)(t))},t.onDragOver=function(o){var i=t.props.context.onNodeDragOver;o.preventDefault(),o.stopPropagation(),i(o,(0,Ke.Z)(t))},t.onDragLeave=function(o){var i=t.props.context.onNodeDragLeave;o.stopPropagation(),i(o,(0,Ke.Z)(t))},t.onDragEnd=function(o){var i=t.props.context.onNodeDragEnd;o.stopPropagation(),t.setState({dragNodeHighlight:!1}),i(o,(0,Ke.Z)(t))},t.onDrop=function(o){var i=t.props.context.onNodeDrop;o.preventDefault(),o.stopPropagation(),t.setState({dragNodeHighlight:!1}),i(o,(0,Ke.Z)(t))},t.onExpand=function(o){var i=t.props,h=i.loading,N=i.context.onNodeExpand;h||N(o,(0,X.F)(t.props))},t.setSelectHandle=function(o){t.selectHandle=o},t.getNodeState=function(){var o=t.props.expanded;return t.isLeaf()?null:o?B:a},t.hasChildren=function(){var o=t.props.eventKey,i=t.props.context.keyEntities,h=(0,le.Z)(i,o)||{},N=h.children;return!!(N||[]).length},t.isLeaf=function(){var o=t.props,i=o.isLeaf,h=o.loaded,N=t.props.context.loadData,S=t.hasChildren();return i===!1?!1:i||!N&&!S||N&&h&&!S},t.isDisabled=function(){var o=t.props.disabled,i=t.props.context.disabled;return!!(i||o)},t.isCheckable=function(){var o=t.props.checkable,i=t.props.context.checkable;return!i||o===!1?!1:i},t.syncLoadData=function(o){var i=o.expanded,h=o.loading,N=o.loaded,S=t.props.context,Q=S.loadData,w=S.onNodeLoad;h||Q&&i&&!t.isLeaf()&&!t.hasChildren()&&!N&&w((0,X.F)(t.props))},t.isDraggable=function(){var o=t.props,i=o.data,h=o.context.draggable;return!!(h&&(!h.nodeDraggable||h.nodeDraggable(i)))},t.renderDragHandler=function(){var o=t.props.context,i=o.draggable,h=o.prefixCls;return i!=null&&i.icon?b.createElement("span",{className:"".concat(h,"-draggable-icon")},i.icon):null},t.renderSwitcherIconDom=function(o){var i=t.props.switcherIcon,h=t.props.context.switcherIcon,N=i||h;return typeof N=="function"?N((0,ve.Z)((0,ve.Z)({},t.props),{},{isLeaf:o})):N},t.renderSwitcher=function(){var o=t.props.expanded,i=t.props.context.prefixCls;if(t.isLeaf()){var h=t.renderSwitcherIconDom(!0);return h!==!1?b.createElement("span",{className:z()("".concat(i,"-switcher"),"".concat(i,"-switcher-noop"))},h):null}var N=z()("".concat(i,"-switcher"),"".concat(i,"-switcher_").concat(o?B:a)),S=t.renderSwitcherIconDom(!1);return S!==!1?b.createElement("span",{onClick:t.onExpand,className:N},S):null},t.renderCheckbox=function(){var o=t.props,i=o.checked,h=o.halfChecked,N=o.disableCheckbox,S=t.props.context.prefixCls,Q=t.isDisabled(),w=t.isCheckable();if(!w)return null;var J=typeof w!="boolean"?w:null;return b.createElement("span",{className:z()("".concat(S,"-checkbox"),i&&"".concat(S,"-checkbox-checked"),!i&&h&&"".concat(S,"-checkbox-indeterminate"),(Q||N)&&"".concat(S,"-checkbox-disabled")),onClick:t.onCheck},J)},t.renderIcon=function(){var o=t.props.loading,i=t.props.context.prefixCls;return b.createElement("span",{className:z()("".concat(i,"-iconEle"),"".concat(i,"-icon__").concat(t.getNodeState()||"docu"),o&&"".concat(i,"-icon_loading"))})},t.renderSelector=function(){var o=t.state.dragNodeHighlight,i=t.props,h=i.title,N=h===void 0?s:h,S=i.selected,Q=i.icon,w=i.loading,J=i.data,ne=t.props.context,q=ne.prefixCls,Ce=ne.showIcon,Se=ne.icon,Pe=ne.loadData,T=ne.titleRender,ke=t.isDisabled(),be="".concat(q,"-node-content-wrapper"),me;if(Ce){var he=Q||Se;me=he?b.createElement("span",{className:z()("".concat(q,"-iconEle"),"".concat(q,"-icon__customize"))},typeof he=="function"?he(t.props):he):t.renderIcon()}else Pe&&w&&(me=t.renderIcon());var Ee;typeof N=="function"?Ee=N(J):T?Ee=T(J):Ee=N;var Oe=b.createElement("span",{className:"".concat(q,"-title")},Ee);return b.createElement("span",{ref:t.setSelectHandle,title:typeof N=="string"?N:"",className:z()("".concat(be),"".concat(be,"-").concat(t.getNodeState()||"normal"),!ke&&(S||o)&&"".concat(q,"-node-selected")),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onContextMenu:t.onContextMenu,onClick:t.onSelectorClick,onDoubleClick:t.onSelectorDoubleClick},me,Oe,t.renderDropIndicator())},t.renderDropIndicator=function(){var o=t.props,i=o.disabled,h=o.eventKey,N=t.props.context,S=N.draggable,Q=N.dropLevelOffset,w=N.dropPosition,J=N.prefixCls,ne=N.indent,q=N.dropIndicatorRender,Ce=N.dragOverNodeKey,Se=N.direction,Pe=!!S,T=!i&&Pe&&Ce===h,ke=ne!=null?ne:t.cacheIndent;return t.cacheIndent=ne,T?q({dropPosition:w,dropLevelOffset:Q,indent:ke,prefixCls:J,direction:Se}):null},t}return(0,De.Z)(I,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var x=this.props.selectable,k=this.props.context.selectable;return typeof x=="boolean"?x:k}},{key:"render",value:function(){var x,k=this.props,H=k.eventKey,o=k.className,i=k.style,h=k.dragOver,N=k.dragOverGapTop,S=k.dragOverGapBottom,Q=k.isLeaf,w=k.isStart,J=k.isEnd,ne=k.expanded,q=k.selected,Ce=k.checked,Se=k.halfChecked,Pe=k.loading,T=k.domRef,ke=k.active,be=k.data,me=k.onMouseMove,he=k.selectable,Ee=(0,ge.Z)(k,_),Oe=this.props.context,f=Oe.prefixCls,R=Oe.filterTreeNode,W=Oe.keyEntities,e=Oe.dropContainerKey,p=Oe.dropTargetKey,G=Oe.draggingNodeKey,L=this.isDisabled(),n=(0,Y.Z)(Ee,{aria:!0,data:!0}),d=(0,le.Z)(W,H)||{},r=d.level,v=J[J.length-1],g=this.isDraggable(),D=!L&&g,C=G===H,P=he!==void 0?{"aria-selected":!!he}:void 0;return b.createElement("div",(0,de.Z)({ref:T,className:z()(o,"".concat(f,"-treenode"),(x={},(0,F.Z)(x,"".concat(f,"-treenode-disabled"),L),(0,F.Z)(x,"".concat(f,"-treenode-switcher-").concat(ne?"open":"close"),!Q),(0,F.Z)(x,"".concat(f,"-treenode-checkbox-checked"),Ce),(0,F.Z)(x,"".concat(f,"-treenode-checkbox-indeterminate"),Se),(0,F.Z)(x,"".concat(f,"-treenode-selected"),q),(0,F.Z)(x,"".concat(f,"-treenode-loading"),Pe),(0,F.Z)(x,"".concat(f,"-treenode-active"),ke),(0,F.Z)(x,"".concat(f,"-treenode-leaf-last"),v),(0,F.Z)(x,"".concat(f,"-treenode-draggable"),g),(0,F.Z)(x,"dragging",C),(0,F.Z)(x,"drop-target",p===H),(0,F.Z)(x,"drop-container",e===H),(0,F.Z)(x,"drag-over",!L&&h),(0,F.Z)(x,"drag-over-gap-top",!L&&N),(0,F.Z)(x,"drag-over-gap-bottom",!L&&S),(0,F.Z)(x,"filter-node",R&&R((0,X.F)(this.props))),x)),style:i,draggable:D,"aria-grabbed":C,onDragStart:D?this.onDragStart:void 0,onDragEnter:g?this.onDragEnter:void 0,onDragOver:g?this.onDragOver:void 0,onDragLeave:g?this.onDragLeave:void 0,onDrop:g?this.onDrop:void 0,onDragEnd:g?this.onDragEnd:void 0,onMouseMove:me},P,n),b.createElement(E,{prefixCls:f,level:r,isStart:w,isEnd:J}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),I}(b.Component),m=function(u){return b.createElement(ue.k.Consumer,null,function(I){return b.createElement(y,(0,de.Z)({},u,{context:I}))})};m.displayName="TreeNode",m.isTreeNode=1;var K=m},27822:function(We,xe,c){c.d(xe,{k:function(){return F}});var de=c(67294),F=de.createContext(null)},70593:function(We,xe,c){c.d(xe,{O:function(){return K.Z},Z:function(){return Oe}});var de=c(87462),F=c(4942),ge=c(71002),ve=c(1413),Le=c(74902),De=c(15671),Ke=c(43144),pe=c(97326),ie=c(32531),te=c(73568),z=c(94184),Y=c.n(z),b=c(15105),ue=c(64217),se=c(80334),E=c(67294),le=c(27822);function X(f){var R=f.dropPosition,W=f.dropLevelOffset,e=f.indent,p={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(R){case-1:p.top=0,p.left=-W*e;break;case 1:p.bottom=0,p.left=-W*e;break;case 0:p.bottom=0,p.left=e;break}return E.createElement("div",{style:p})}function _(f){if(f==null)throw new TypeError("Cannot destructure "+f)}var B=c(97685),a=c(91),s=c(8410),y=c(85344),m=c(82225),K=c(86128);function O(f,R){var W=E.useState(!1),e=(0,B.Z)(W,2),p=e[0],G=e[1];E.useLayoutEffect(function(){if(p)return f(),function(){R()}},[p]),E.useLayoutEffect(function(){return G(!0),function(){G(!1)}},[])}var u=c(1089),I=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],t=function(R,W){var e=R.className,p=R.style,G=R.motion,L=R.motionNodes,n=R.motionType,d=R.onMotionStart,r=R.onMotionEnd,v=R.active,g=R.treeNodeRequiredProps,D=(0,a.Z)(R,I),C=E.useState(!0),P=(0,B.Z)(C,2),Z=P[0],$=P[1],l=E.useContext(le.k),U=l.prefixCls,A=L&&n!=="hide";(0,s.Z)(function(){L&&A!==Z&&$(A)},[L]);var M=function(){L&&d()},j=E.useRef(!1),V=function(){L&&!j.current&&(j.current=!0,r())};O(M,V);var re=function(ae){A===ae&&V()};return L?E.createElement(m.default,(0,de.Z)({ref:W,visible:Z},G,{motionAppear:n==="show",onVisibleChanged:re}),function(ee,ae){var Ne=ee.className,fe=ee.style;return E.createElement("div",{ref:ae,className:Y()("".concat(U,"-treenode-motion"),Ne),style:fe},L.map(function(oe){var ye=(0,de.Z)({},(_(oe.data),oe.data)),Me=oe.title,Ze=oe.key,Ie=oe.isStart,Te=oe.isEnd;delete ye.children;var Re=(0,u.H8)(Ze,g);return E.createElement(K.Z,(0,de.Z)({},ye,Re,{title:Me,active:v,data:oe.data,key:Ze,isStart:Ie,isEnd:Te}))}))}):E.createElement(K.Z,(0,de.Z)({domRef:W,className:e,style:p},D,{active:v}))};t.displayName="MotionTreeNode";var x=E.forwardRef(t),k=x;function H(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],W=f.length,e=R.length;if(Math.abs(W-e)!==1)return{add:!1,key:null};function p(G,L){var n=new Map;G.forEach(function(r){n.set(r,!0)});var d=L.filter(function(r){return!n.has(r)});return d.length===1?d[0]:null}return W<e?{add:!0,key:p(f,R)}:{add:!1,key:p(R,f)}}function o(f,R,W){var e=f.findIndex(function(n){return n.key===W}),p=f[e+1],G=R.findIndex(function(n){return n.key===W});if(p){var L=R.findIndex(function(n){return n.key===p.key});return R.slice(G+1,L)}return R.slice(G+1)}var i=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],h={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},N=function(){},S="RC_TREE_MOTION_".concat(Math.random()),Q={key:S},w={key:S,level:0,index:0,pos:"0",node:Q,nodes:[Q]},J={parent:null,children:[],pos:w.pos,data:Q,title:null,key:S,isStart:[],isEnd:[]};function ne(f,R,W,e){return R===!1||!W?f:f.slice(0,Math.ceil(W/e)+1)}function q(f){var R=f.key,W=f.pos;return(0,u.km)(R,W)}function Ce(f){for(var R=String(f.data.key),W=f;W.parent;)W=W.parent,R="".concat(W.data.key," > ").concat(R);return R}var Se=E.forwardRef(function(f,R){var W=f.prefixCls,e=f.data,p=f.selectable,G=f.checkable,L=f.expandedKeys,n=f.selectedKeys,d=f.checkedKeys,r=f.loadedKeys,v=f.loadingKeys,g=f.halfCheckedKeys,D=f.keyEntities,C=f.disabled,P=f.dragging,Z=f.dragOverNodeKey,$=f.dropPosition,l=f.motion,U=f.height,A=f.itemHeight,M=f.virtual,j=f.focusable,V=f.activeItem,re=f.focused,ee=f.tabIndex,ae=f.onKeyDown,Ne=f.onFocus,fe=f.onBlur,oe=f.onActiveChange,ye=f.onListChangeStart,Me=f.onListChangeEnd,Ze=(0,a.Z)(f,i),Ie=E.useRef(null),Te=E.useRef(null);E.useImperativeHandle(R,function(){return{scrollTo:function(Ae){Ie.current.scrollTo(Ae)},getIndentWidth:function(){return Te.current.offsetWidth}}});var Re=E.useState(L),Ve=(0,B.Z)(Re,2),_e=Ve[0],qe=Ve[1],et=E.useState(e),Ye=(0,B.Z)(et,2),we=Ye[0],Xe=Ye[1],tt=E.useState(e),Je=(0,B.Z)(tt,2),nt=Je[0],He=Je[1],rt=E.useState([]),$e=(0,B.Z)(rt,2),ct=$e[0],at=$e[1],ut=E.useState(null),it=(0,B.Z)(ut,2),ft=it[0],ot=it[1],st=E.useRef(e);st.current=e;function dt(){var ce=st.current;Xe(ce),He(ce),at([]),ot(null),Me()}(0,s.Z)(function(){qe(L);var ce=H(_e,L);if(ce.key!==null)if(ce.add){var Ae=we.findIndex(function(je){var ze=je.key;return ze===ce.key}),Ue=ne(o(we,e,ce.key),M,U,A),Ge=we.slice();Ge.splice(Ae+1,0,J),He(Ge),at(Ue),ot("show")}else{var Fe=e.findIndex(function(je){var ze=je.key;return ze===ce.key}),Be=ne(o(e,we,ce.key),M,U,A),Qe=e.slice();Qe.splice(Fe+1,0,J),He(Qe),at(Be),ot("hide")}else we!==e&&(Xe(e),He(e))},[L,e]),E.useEffect(function(){P||dt()},[P]);var vt=l?nt:e,lt={expandedKeys:L,selectedKeys:n,loadedKeys:r,loadingKeys:v,checkedKeys:d,halfCheckedKeys:g,dragOverNodeKey:Z,dropPosition:$,keyEntities:D};return E.createElement(E.Fragment,null,re&&V&&E.createElement("span",{style:h,"aria-live":"assertive"},Ce(V)),E.createElement("div",null,E.createElement("input",{style:h,disabled:j===!1||C,tabIndex:j!==!1?ee:null,onKeyDown:ae,onFocus:Ne,onBlur:fe,value:"",onChange:N,"aria-label":"for screen reader"})),E.createElement("div",{className:"".concat(W,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},E.createElement("div",{className:"".concat(W,"-indent")},E.createElement("div",{ref:Te,className:"".concat(W,"-indent-unit")}))),E.createElement(y.Z,(0,de.Z)({},Ze,{data:vt,itemKey:q,height:U,fullHeight:!1,virtual:M,itemHeight:A,prefixCls:"".concat(W,"-list"),ref:Ie,onVisibleChange:function(Ae,Ue){var Ge=new Set(Ae),Fe=Ue.filter(function(Be){return!Ge.has(Be)});Fe.some(function(Be){return q(Be)===S})&&dt()}}),function(ce){var Ae=ce.pos,Ue=(0,de.Z)({},(_(ce.data),ce.data)),Ge=ce.title,Fe=ce.key,Be=ce.isStart,Qe=ce.isEnd,je=(0,u.km)(Fe,Ae);delete Ue.key,delete Ue.children;var ze=(0,u.H8)(je,lt);return E.createElement(k,(0,de.Z)({},Ue,ze,{title:Ge,active:!!V&&Fe===V.key,pos:Ae,data:ce.data,isStart:Be,isEnd:Qe,motion:l,motionNodes:Fe===S?ct:null,motionType:ft,onMotionStart:ye,onMotionEnd:dt,treeNodeRequiredProps:lt,onMouseMove:function(){oe(null)}}))}))});Se.displayName="NodeList";var Pe=Se,T=c(10225),ke=c(17341),be=c(35381),me=10,he=function(f){(0,ie.Z)(W,f);var R=(0,te.Z)(W);function W(){var e;(0,De.Z)(this,W);for(var p=arguments.length,G=new Array(p),L=0;L<p;L++)G[L]=arguments[L];return e=R.call.apply(R,[this].concat(G)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:(0,u.w$)()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=E.createRef(),e.onNodeDragStart=function(n,d){var r=e.state,v=r.expandedKeys,g=r.keyEntities,D=e.props.onDragStart,C=d.props.eventKey;e.dragNode=d,e.dragStartMousePosition={x:n.clientX,y:n.clientY};var P=(0,T._5)(v,C);e.setState({draggingNodeKey:C,dragChildrenKeys:(0,T.wA)(C,g),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(P),window.addEventListener("dragend",e.onWindowDragEnd),D==null||D({event:n,node:(0,u.F)(d.props)})},e.onNodeDragEnter=function(n,d){var r=e.state,v=r.expandedKeys,g=r.keyEntities,D=r.dragChildrenKeys,C=r.flattenNodes,P=r.indent,Z=e.props,$=Z.onDragEnter,l=Z.onExpand,U=Z.allowDrop,A=Z.direction,M=d.props,j=M.pos,V=M.eventKey,re=(0,pe.Z)(e),ee=re.dragNode;if(e.currentMouseOverDroppableNodeKey!==V&&(e.currentMouseOverDroppableNodeKey=V),!ee){e.resetDragState();return}var ae=(0,T.OM)(n,ee,d,P,e.dragStartMousePosition,U,C,g,v,A),Ne=ae.dropPosition,fe=ae.dropLevelOffset,oe=ae.dropTargetKey,ye=ae.dropContainerKey,Me=ae.dropTargetPos,Ze=ae.dropAllowed,Ie=ae.dragOverNodeKey;if(D.indexOf(oe)!==-1||!Ze){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(Te){clearTimeout(e.delayedDragEnterLogic[Te])}),ee.props.eventKey!==d.props.eventKey&&(n.persist(),e.delayedDragEnterLogic[j]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var Te=(0,Le.Z)(v),Re=(0,be.Z)(g,d.props.eventKey);Re&&(Re.children||[]).length&&(Te=(0,T.L0)(v,d.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(Te),l==null||l(Te,{node:(0,u.F)(d.props),expanded:!0,nativeEvent:n.nativeEvent})}},800)),ee.props.eventKey===oe&&fe===0){e.resetDragState();return}e.setState({dragOverNodeKey:Ie,dropPosition:Ne,dropLevelOffset:fe,dropTargetKey:oe,dropContainerKey:ye,dropTargetPos:Me,dropAllowed:Ze}),$==null||$({event:n,node:(0,u.F)(d.props),expandedKeys:v})},e.onNodeDragOver=function(n,d){var r=e.state,v=r.dragChildrenKeys,g=r.flattenNodes,D=r.keyEntities,C=r.expandedKeys,P=r.indent,Z=e.props,$=Z.onDragOver,l=Z.allowDrop,U=Z.direction,A=(0,pe.Z)(e),M=A.dragNode;if(M){var j=(0,T.OM)(n,M,d,P,e.dragStartMousePosition,l,g,D,C,U),V=j.dropPosition,re=j.dropLevelOffset,ee=j.dropTargetKey,ae=j.dropContainerKey,Ne=j.dropAllowed,fe=j.dropTargetPos,oe=j.dragOverNodeKey;v.indexOf(ee)!==-1||!Ne||(M.props.eventKey===ee&&re===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():V===e.state.dropPosition&&re===e.state.dropLevelOffset&&ee===e.state.dropTargetKey&&ae===e.state.dropContainerKey&&fe===e.state.dropTargetPos&&Ne===e.state.dropAllowed&&oe===e.state.dragOverNodeKey||e.setState({dropPosition:V,dropLevelOffset:re,dropTargetKey:ee,dropContainerKey:ae,dropTargetPos:fe,dropAllowed:Ne,dragOverNodeKey:oe}),$==null||$({event:n,node:(0,u.F)(d.props)}))}},e.onNodeDragLeave=function(n,d){e.currentMouseOverDroppableNodeKey===d.props.eventKey&&!n.currentTarget.contains(n.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var r=e.props.onDragLeave;r==null||r({event:n,node:(0,u.F)(d.props)})},e.onWindowDragEnd=function(n){e.onNodeDragEnd(n,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(n,d){var r=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),r==null||r({event:n,node:(0,u.F)(d.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(n,d){var r,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,g=e.state,D=g.dragChildrenKeys,C=g.dropPosition,P=g.dropTargetKey,Z=g.dropTargetPos,$=g.dropAllowed;if($){var l=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),P!==null){var U=(0,ve.Z)((0,ve.Z)({},(0,u.H8)(P,e.getTreeNodeRequiredProps())),{},{active:((r=e.getActiveItem())===null||r===void 0?void 0:r.key)===P,data:(0,be.Z)(e.state.keyEntities,P).node}),A=D.indexOf(P)!==-1;(0,se.ZP)(!A,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var M=(0,T.yx)(Z),j={event:n,node:(0,u.F)(U),dragNode:e.dragNode?(0,u.F)(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(D),dropToGap:C!==0,dropPosition:C+Number(M[M.length-1])};v||l==null||l(j),e.dragNode=null}}},e.cleanDragState=function(){var n=e.state.draggingNodeKey;n!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(n,d){var r=e.state,v=r.expandedKeys,g=r.flattenNodes,D=d.expanded,C=d.key,P=d.isLeaf;if(!(P||n.shiftKey||n.metaKey||n.ctrlKey)){var Z=g.filter(function(l){return l.key===C})[0],$=(0,u.F)((0,ve.Z)((0,ve.Z)({},(0,u.H8)(C,e.getTreeNodeRequiredProps())),{},{data:Z.data}));e.setExpandedKeys(D?(0,T._5)(v,C):(0,T.L0)(v,C)),e.onNodeExpand(n,$)}},e.onNodeClick=function(n,d){var r=e.props,v=r.onClick,g=r.expandAction;g==="click"&&e.triggerExpandActionExpand(n,d),v==null||v(n,d)},e.onNodeDoubleClick=function(n,d){var r=e.props,v=r.onDoubleClick,g=r.expandAction;g==="doubleClick"&&e.triggerExpandActionExpand(n,d),v==null||v(n,d)},e.onNodeSelect=function(n,d){var r=e.state.selectedKeys,v=e.state,g=v.keyEntities,D=v.fieldNames,C=e.props,P=C.onSelect,Z=C.multiple,$=d.selected,l=d[D.key],U=!$;U?Z?r=(0,T.L0)(r,l):r=[l]:r=(0,T._5)(r,l);var A=r.map(function(M){var j=(0,be.Z)(g,M);return j?j.node:null}).filter(function(M){return M});e.setUncontrolledState({selectedKeys:r}),P==null||P(r,{event:"select",selected:U,node:d,selectedNodes:A,nativeEvent:n.nativeEvent})},e.onNodeCheck=function(n,d,r){var v=e.state,g=v.keyEntities,D=v.checkedKeys,C=v.halfCheckedKeys,P=e.props,Z=P.checkStrictly,$=P.onCheck,l=d.key,U,A={event:"check",node:d,checked:r,nativeEvent:n.nativeEvent};if(Z){var M=r?(0,T.L0)(D,l):(0,T._5)(D,l),j=(0,T._5)(C,l);U={checked:M,halfChecked:j},A.checkedNodes=M.map(function(fe){return(0,be.Z)(g,fe)}).filter(function(fe){return fe}).map(function(fe){return fe.node}),e.setUncontrolledState({checkedKeys:M})}else{var V=(0,ke.S)([].concat((0,Le.Z)(D),[l]),!0,g),re=V.checkedKeys,ee=V.halfCheckedKeys;if(!r){var ae=new Set(re);ae.delete(l);var Ne=(0,ke.S)(Array.from(ae),{checked:!1,halfCheckedKeys:ee},g);re=Ne.checkedKeys,ee=Ne.halfCheckedKeys}U=re,A.checkedNodes=[],A.checkedNodesPositions=[],A.halfCheckedKeys=ee,re.forEach(function(fe){var oe=(0,be.Z)(g,fe);if(oe){var ye=oe.node,Me=oe.pos;A.checkedNodes.push(ye),A.checkedNodesPositions.push({node:ye,pos:Me})}}),e.setUncontrolledState({checkedKeys:re},!1,{halfCheckedKeys:ee})}$==null||$(U,A)},e.onNodeLoad=function(n){var d=n.key,r=new Promise(function(v,g){e.setState(function(D){var C=D.loadedKeys,P=C===void 0?[]:C,Z=D.loadingKeys,$=Z===void 0?[]:Z,l=e.props,U=l.loadData,A=l.onLoad;if(!U||P.indexOf(d)!==-1||$.indexOf(d)!==-1)return null;var M=U(n);return M.then(function(){var j=e.state.loadedKeys,V=(0,T.L0)(j,d);A==null||A(V,{event:"load",node:n}),e.setUncontrolledState({loadedKeys:V}),e.setState(function(re){return{loadingKeys:(0,T._5)(re.loadingKeys,d)}}),v()}).catch(function(j){if(e.setState(function(re){return{loadingKeys:(0,T._5)(re.loadingKeys,d)}}),e.loadingRetryTimes[d]=(e.loadingRetryTimes[d]||0)+1,e.loadingRetryTimes[d]>=me){var V=e.state.loadedKeys;(0,se.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:(0,T.L0)(V,d)}),v()}g(j)}),{loadingKeys:(0,T.L0)($,d)}})});return r.catch(function(){}),r},e.onNodeMouseEnter=function(n,d){var r=e.props.onMouseEnter;r==null||r({event:n,node:d})},e.onNodeMouseLeave=function(n,d){var r=e.props.onMouseLeave;r==null||r({event:n,node:d})},e.onNodeContextMenu=function(n,d){var r=e.props.onRightClick;r&&(n.preventDefault(),r({event:n,node:d}))},e.onFocus=function(){var n=e.props.onFocus;e.setState({focused:!0});for(var d=arguments.length,r=new Array(d),v=0;v<d;v++)r[v]=arguments[v];n==null||n.apply(void 0,r)},e.onBlur=function(){var n=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var d=arguments.length,r=new Array(d),v=0;v<d;v++)r[v]=arguments[v];n==null||n.apply(void 0,r)},e.getTreeNodeRequiredProps=function(){var n=e.state,d=n.expandedKeys,r=n.selectedKeys,v=n.loadedKeys,g=n.loadingKeys,D=n.checkedKeys,C=n.halfCheckedKeys,P=n.dragOverNodeKey,Z=n.dropPosition,$=n.keyEntities;return{expandedKeys:d||[],selectedKeys:r||[],loadedKeys:v||[],loadingKeys:g||[],checkedKeys:D||[],halfCheckedKeys:C||[],dragOverNodeKey:P,dropPosition:Z,keyEntities:$}},e.setExpandedKeys=function(n){var d=e.state,r=d.treeData,v=d.fieldNames,g=(0,u.oH)(r,n,v);e.setUncontrolledState({expandedKeys:n,flattenNodes:g},!0)},e.onNodeExpand=function(n,d){var r=e.state.expandedKeys,v=e.state,g=v.listChanging,D=v.fieldNames,C=e.props,P=C.onExpand,Z=C.loadData,$=d.expanded,l=d[D.key];if(!g){var U=r.indexOf(l),A=!$;if((0,se.ZP)($&&U!==-1||!$&&U===-1,"Expand state not sync with index check"),A?r=(0,T.L0)(r,l):r=(0,T._5)(r,l),e.setExpandedKeys(r),P==null||P(r,{node:d,expanded:A,nativeEvent:n.nativeEvent}),A&&Z){var M=e.onNodeLoad(d);M&&M.then(function(){var j=(0,u.oH)(e.state.treeData,r,D);e.setUncontrolledState({flattenNodes:j})}).catch(function(){var j=e.state.expandedKeys,V=(0,T._5)(j,l);e.setExpandedKeys(V)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(n){var d=e.state.activeKey,r=e.props.onActiveChange;d!==n&&(e.setState({activeKey:n}),n!==null&&e.scrollTo({key:n}),r==null||r(n))},e.getActiveItem=function(){var n=e.state,d=n.activeKey,r=n.flattenNodes;return d===null?null:r.find(function(v){var g=v.key;return g===d})||null},e.offsetActiveKey=function(n){var d=e.state,r=d.flattenNodes,v=d.activeKey,g=r.findIndex(function(P){var Z=P.key;return Z===v});g===-1&&n<0&&(g=r.length),g=(g+n+r.length)%r.length;var D=r[g];if(D){var C=D.key;e.onActiveChange(C)}else e.onActiveChange(null)},e.onKeyDown=function(n){var d=e.state,r=d.activeKey,v=d.expandedKeys,g=d.checkedKeys,D=d.fieldNames,C=e.props,P=C.onKeyDown,Z=C.checkable,$=C.selectable;switch(n.which){case b.Z.UP:{e.offsetActiveKey(-1),n.preventDefault();break}case b.Z.DOWN:{e.offsetActiveKey(1),n.preventDefault();break}}var l=e.getActiveItem();if(l&&l.data){var U=e.getTreeNodeRequiredProps(),A=l.data.isLeaf===!1||!!(l.data[D.children]||[]).length,M=(0,u.F)((0,ve.Z)((0,ve.Z)({},(0,u.H8)(r,U)),{},{data:l.data,active:!0}));switch(n.which){case b.Z.LEFT:{A&&v.includes(r)?e.onNodeExpand({},M):l.parent&&e.onActiveChange(l.parent.key),n.preventDefault();break}case b.Z.RIGHT:{A&&!v.includes(r)?e.onNodeExpand({},M):l.children&&l.children.length&&e.onActiveChange(l.children[0].key),n.preventDefault();break}case b.Z.ENTER:case b.Z.SPACE:{Z&&!M.disabled&&M.checkable!==!1&&!M.disableCheckbox?e.onNodeCheck({},M,!g.includes(r)):!Z&&$&&!M.disabled&&M.selectable!==!1&&e.onNodeSelect({},M);break}}}P==null||P(n)},e.setUncontrolledState=function(n){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var v=!1,g=!0,D={};Object.keys(n).forEach(function(C){if(C in e.props){g=!1;return}v=!0,D[C]=n[C]}),v&&(!d||g)&&e.setState((0,ve.Z)((0,ve.Z)({},D),r))}},e.scrollTo=function(n){e.listRef.current.scrollTo(n)},e}return(0,Ke.Z)(W,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var p=this.props.activeKey;p!==void 0&&p!==this.state.activeKey&&(this.setState({activeKey:p}),p!==null&&this.scrollTo({key:p}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var p,G=this.state,L=G.focused,n=G.flattenNodes,d=G.keyEntities,r=G.draggingNodeKey,v=G.activeKey,g=G.dropLevelOffset,D=G.dropContainerKey,C=G.dropTargetKey,P=G.dropPosition,Z=G.dragOverNodeKey,$=G.indent,l=this.props,U=l.prefixCls,A=l.className,M=l.style,j=l.showLine,V=l.focusable,re=l.tabIndex,ee=re===void 0?0:re,ae=l.selectable,Ne=l.showIcon,fe=l.icon,oe=l.switcherIcon,ye=l.draggable,Me=l.checkable,Ze=l.checkStrictly,Ie=l.disabled,Te=l.motion,Re=l.loadData,Ve=l.filterTreeNode,_e=l.height,qe=l.itemHeight,et=l.virtual,Ye=l.titleRender,we=l.dropIndicatorRender,Xe=l.onContextMenu,tt=l.onScroll,Je=l.direction,nt=l.rootClassName,He=l.rootStyle,rt=(0,ue.Z)(this.props,{aria:!0,data:!0}),$e;return ye&&((0,ge.Z)(ye)==="object"?$e=ye:typeof ye=="function"?$e={nodeDraggable:ye}:$e={}),E.createElement(le.k.Provider,{value:{prefixCls:U,selectable:ae,showIcon:Ne,icon:fe,switcherIcon:oe,draggable:$e,draggingNodeKey:r,checkable:Me,checkStrictly:Ze,disabled:Ie,keyEntities:d,dropLevelOffset:g,dropContainerKey:D,dropTargetKey:C,dropPosition:P,dragOverNodeKey:Z,indent:$,direction:Je,dropIndicatorRender:we,loadData:Re,filterTreeNode:Ve,titleRender:Ye,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},E.createElement("div",{role:"tree",className:Y()(U,A,nt,(p={},(0,F.Z)(p,"".concat(U,"-show-line"),j),(0,F.Z)(p,"".concat(U,"-focused"),L),(0,F.Z)(p,"".concat(U,"-active-focused"),v!==null),p)),style:He},E.createElement(Pe,(0,de.Z)({ref:this.listRef,prefixCls:U,style:M,data:n,disabled:Ie,selectable:ae,checkable:!!Me,motion:Te,dragging:r!==null,height:_e,itemHeight:qe,virtual:et,focusable:V,focused:L,tabIndex:ee,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Xe,onScroll:tt},this.getTreeNodeRequiredProps(),rt))))}}],[{key:"getDerivedStateFromProps",value:function(p,G){var L=G.prevProps,n={prevProps:p};function d(V){return!L&&V in p||L&&L[V]!==p[V]}var r,v=G.fieldNames;if(d("fieldNames")&&(v=(0,u.w$)(p.fieldNames),n.fieldNames=v),d("treeData")?r=p.treeData:d("children")&&((0,se.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=(0,u.zn)(p.children)),r){n.treeData=r;var g=(0,u.I8)(r,{fieldNames:v});n.keyEntities=(0,ve.Z)((0,F.Z)({},S,w),g.keyEntities)}var D=n.keyEntities||G.keyEntities;if(d("expandedKeys")||L&&d("autoExpandParent"))n.expandedKeys=p.autoExpandParent||!L&&p.defaultExpandParent?(0,T.r7)(p.expandedKeys,D):p.expandedKeys;else if(!L&&p.defaultExpandAll){var C=(0,ve.Z)({},D);delete C[S],n.expandedKeys=Object.keys(C).map(function(V){return C[V].key})}else!L&&p.defaultExpandedKeys&&(n.expandedKeys=p.autoExpandParent||p.defaultExpandParent?(0,T.r7)(p.defaultExpandedKeys,D):p.defaultExpandedKeys);if(n.expandedKeys||delete n.expandedKeys,r||n.expandedKeys){var P=(0,u.oH)(r||G.treeData,n.expandedKeys||G.expandedKeys,v);n.flattenNodes=P}if(p.selectable&&(d("selectedKeys")?n.selectedKeys=(0,T.BT)(p.selectedKeys,p):!L&&p.defaultSelectedKeys&&(n.selectedKeys=(0,T.BT)(p.defaultSelectedKeys,p))),p.checkable){var Z;if(d("checkedKeys")?Z=(0,T.E6)(p.checkedKeys)||{}:!L&&p.defaultCheckedKeys?Z=(0,T.E6)(p.defaultCheckedKeys)||{}:r&&(Z=(0,T.E6)(p.checkedKeys)||{checkedKeys:G.checkedKeys,halfCheckedKeys:G.halfCheckedKeys}),Z){var $=Z,l=$.checkedKeys,U=l===void 0?[]:l,A=$.halfCheckedKeys,M=A===void 0?[]:A;if(!p.checkStrictly){var j=(0,ke.S)(U,!0,D);U=j.checkedKeys,M=j.halfCheckedKeys}n.checkedKeys=U,n.halfCheckedKeys=M}}return d("loadedKeys")&&(n.loadedKeys=p.loadedKeys),n}}]),W}(E.Component);he.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:X,allowDrop:function(){return!0},expandAction:!1},he.TreeNode=K.Z;var Ee=he,Oe=Ee},10225:function(We,xe,c){c.d(xe,{BT:function(){return E},E6:function(){return _},L0:function(){return te},OM:function(){return se},_5:function(){return ie},r7:function(){return B},wA:function(){return Y},yx:function(){return z}});var de=c(74902),F=c(71002),ge=c(80334),ve=c(67294),Le=c(86128),De=c(35381),Ke=c(1089),pe=null;function ie(a,s){if(!a)return[];var y=a.slice(),m=y.indexOf(s);return m>=0&&y.splice(m,1),y}function te(a,s){var y=(a||[]).slice();return y.indexOf(s)===-1&&y.push(s),y}function z(a){return a.split("-")}function Y(a,s){var y=[],m=(0,De.Z)(s,a);function K(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];O.forEach(function(u){var I=u.key,t=u.children;y.push(I),K(t)})}return K(m.children),y}function b(a){if(a.parent){var s=z(a.pos);return Number(s[s.length-1])===a.parent.children.length-1}return!1}function ue(a){var s=z(a.pos);return Number(s[s.length-1])===0}function se(a,s,y,m,K,O,u,I,t,x){var k,H=a.clientX,o=a.clientY,i=a.target.getBoundingClientRect(),h=i.top,N=i.height,S=(x==="rtl"?-1:1)*(((K==null?void 0:K.x)||0)-H),Q=(S-12)/m,w=(0,De.Z)(I,y.props.eventKey);if(o<h+N/2){var J=u.findIndex(function(Oe){return Oe.key===w.key}),ne=J<=0?0:J-1,q=u[ne].key;w=(0,De.Z)(I,q)}var Ce=w.key,Se=w,Pe=w.key,T=0,ke=0;if(!t.includes(Ce))for(var be=0;be<Q&&b(w);be+=1)w=w.parent,ke+=1;var me=s.props.data,he=w.node,Ee=!0;return ue(w)&&w.level===0&&o<h+N/2&&O({dragNode:me,dropNode:he,dropPosition:-1})&&w.key===y.props.eventKey?T=-1:(Se.children||[]).length&&t.includes(Pe)?O({dragNode:me,dropNode:he,dropPosition:0})?T=0:Ee=!1:ke===0?Q>-1.5?O({dragNode:me,dropNode:he,dropPosition:1})?T=1:Ee=!1:O({dragNode:me,dropNode:he,dropPosition:0})?T=0:O({dragNode:me,dropNode:he,dropPosition:1})?T=1:Ee=!1:O({dragNode:me,dropNode:he,dropPosition:1})?T=1:Ee=!1,{dropPosition:T,dropLevelOffset:ke,dropTargetKey:w.key,dropTargetPos:w.pos,dragOverNodeKey:Pe,dropContainerKey:T===0?null:((k=w.parent)===null||k===void 0?void 0:k.key)||null,dropAllowed:Ee}}function E(a,s){if(a){var y=s.multiple;return y?a.slice():a.length?[a[0]]:a}}var le=function(s){return s};function X(a,s){if(!a)return[];var y=s||{},m=y.processProps,K=m===void 0?le:m,O=Array.isArray(a)?a:[a];return O.map(function(u){var I=u.children,t=_objectWithoutProperties(u,pe),x=X(I,s);return React.createElement(TreeNode,_extends({key:t.key},K(t)),x)})}function _(a){if(!a)return null;var s;if(Array.isArray(a))s={checkedKeys:a,halfCheckedKeys:void 0};else if((0,F.Z)(a)==="object")s={checkedKeys:a.checked||void 0,halfCheckedKeys:a.halfChecked||void 0};else return(0,ge.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return s}function B(a,s){var y=new Set;function m(K){if(!y.has(K)){var O=(0,De.Z)(s,K);if(O){y.add(K);var u=O.parent,I=O.node;I.disabled||u&&m(u.key)}}}return(a||[]).forEach(function(K){m(K)}),(0,de.Z)(y)}},17341:function(We,xe,c){c.d(xe,{S:function(){return Ke}});var de=c(80334),F=c(35381);function ge(pe,ie){var te=new Set;return pe.forEach(function(z){ie.has(z)||te.add(z)}),te}function ve(pe){var ie=pe||{},te=ie.disabled,z=ie.disableCheckbox,Y=ie.checkable;return!!(te||z)||Y===!1}function Le(pe,ie,te,z){for(var Y=new Set(pe),b=new Set,ue=0;ue<=te;ue+=1){var se=ie.get(ue)||new Set;se.forEach(function(_){var B=_.key,a=_.node,s=_.children,y=s===void 0?[]:s;Y.has(B)&&!z(a)&&y.filter(function(m){return!z(m.node)}).forEach(function(m){Y.add(m.key)})})}for(var E=new Set,le=te;le>=0;le-=1){var X=ie.get(le)||new Set;X.forEach(function(_){var B=_.parent,a=_.node;if(!(z(a)||!_.parent||E.has(_.parent.key))){if(z(_.parent.node)){E.add(B.key);return}var s=!0,y=!1;(B.children||[]).filter(function(m){return!z(m.node)}).forEach(function(m){var K=m.key,O=Y.has(K);s&&!O&&(s=!1),!y&&(O||b.has(K))&&(y=!0)}),s&&Y.add(B.key),y&&b.add(B.key),E.add(B.key)}})}return{checkedKeys:Array.from(Y),halfCheckedKeys:Array.from(ge(b,Y))}}function De(pe,ie,te,z,Y){for(var b=new Set(pe),ue=new Set(ie),se=0;se<=z;se+=1){var E=te.get(se)||new Set;E.forEach(function(B){var a=B.key,s=B.node,y=B.children,m=y===void 0?[]:y;!b.has(a)&&!ue.has(a)&&!Y(s)&&m.filter(function(K){return!Y(K.node)}).forEach(function(K){b.delete(K.key)})})}ue=new Set;for(var le=new Set,X=z;X>=0;X-=1){var _=te.get(X)||new Set;_.forEach(function(B){var a=B.parent,s=B.node;if(!(Y(s)||!B.parent||le.has(B.parent.key))){if(Y(B.parent.node)){le.add(a.key);return}var y=!0,m=!1;(a.children||[]).filter(function(K){return!Y(K.node)}).forEach(function(K){var O=K.key,u=b.has(O);y&&!u&&(y=!1),!m&&(u||ue.has(O))&&(m=!0)}),y||b.delete(a.key),m&&ue.add(a.key),le.add(a.key)}})}return{checkedKeys:Array.from(b),halfCheckedKeys:Array.from(ge(ue,b))}}function Ke(pe,ie,te,z){var Y=[],b;z?b=z:b=ve;var ue=new Set(pe.filter(function(X){var _=!!(0,F.Z)(te,X);return _||Y.push(X),_})),se=new Map,E=0;Object.keys(te).forEach(function(X){var _=te[X],B=_.level,a=se.get(B);a||(a=new Set,se.set(B,a)),a.add(_),E=Math.max(E,B)}),(0,de.ZP)(!Y.length,"Tree missing follow keys: ".concat(Y.slice(0,100).map(function(X){return"'".concat(X,"'")}).join(", ")));var le;return ie===!0?le=Le(ue,se,E,b):le=De(ue,ie.halfCheckedKeys,se,E,b),le}},35381:function(We,xe,c){c.d(xe,{Z:function(){return de}});function de(F,ge){return F[ge]}},1089:function(We,xe,c){c.d(xe,{F:function(){return B},H8:function(){return _},I8:function(){return X},km:function(){return Y},oH:function(){return E},w$:function(){return b},zn:function(){return se}});var de=c(71002),F=c(74902),ge=c(1413),ve=c(91),Le=c(50344),De=c(98423),Ke=c(80334),pe=c(35381),ie=["children"];function te(a,s){return"".concat(a,"-").concat(s)}function z(a){return a&&a.type&&a.type.isTreeNode}function Y(a,s){return a!=null?a:s}function b(a){var s=a||{},y=s.title,m=s._title,K=s.key,O=s.children,u=y||"title";return{title:u,_title:m||[u],key:K||"key",children:O||"children"}}function ue(a,s){var y=new Map;function m(K){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(K||[]).forEach(function(u){var I=u[s.key],t=u[s.children];warning(I!=null,"Tree node must have a certain key: [".concat(O).concat(I,"]"));var x=String(I);warning(!y.has(x)||I===null||I===void 0,"Same 'key' exist in the Tree: ".concat(x)),y.set(x,!0),m(t,"".concat(O).concat(x," > "))})}m(a)}function se(a){function s(y){var m=(0,Le.Z)(y);return m.map(function(K){if(!z(K))return(0,Ke.ZP)(!K,"Tree/TreeNode can only accept TreeNode as children."),null;var O=K.key,u=K.props,I=u.children,t=(0,ve.Z)(u,ie),x=(0,ge.Z)({key:O},t),k=s(I);return k.length&&(x.children=k),x}).filter(function(K){return K})}return s(a)}function E(a,s,y){var m=b(y),K=m._title,O=m.key,u=m.children,I=new Set(s===!0?[]:s),t=[];function x(k){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return k.map(function(o,i){for(var h=te(H?H.pos:"0",i),N=Y(o[O],h),S,Q=0;Q<K.length;Q+=1){var w=K[Q];if(o[w]!==void 0){S=o[w];break}}var J=(0,ge.Z)((0,ge.Z)({},(0,De.Z)(o,[].concat((0,F.Z)(K),[O,u]))),{},{title:S,key:N,parent:H,pos:h,children:null,data:o,isStart:[].concat((0,F.Z)(H?H.isStart:[]),[i===0]),isEnd:[].concat((0,F.Z)(H?H.isEnd:[]),[i===k.length-1])});return t.push(J),s===!0||I.has(N)?J.children=x(o[u]||[],J):J.children=[],J})}return x(a),t}function le(a,s,y){var m={};(0,de.Z)(y)==="object"?m=y:m={externalGetKey:y},m=m||{};var K=m,O=K.childrenPropName,u=K.externalGetKey,I=K.fieldNames,t=b(I),x=t.key,k=t.children,H=O||k,o;u?typeof u=="string"?o=function(N){return N[u]}:typeof u=="function"&&(o=function(N){return u(N)}):o=function(N,S){return Y(N[x],S)};function i(h,N,S,Q){var w=h?h[H]:a,J=h?te(S.pos,N):"0",ne=h?[].concat((0,F.Z)(Q),[h]):[];if(h){var q=o(h,J),Ce={node:h,index:N,pos:J,key:q,parentPos:S.node?S.pos:null,level:S.level+1,nodes:ne};s(Ce)}w&&w.forEach(function(Se,Pe){i(Se,Pe,{node:h,pos:J,level:S?S.level+1:-1},ne)})}i(null)}function X(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=s.initWrapper,m=s.processEntity,K=s.onProcessFinished,O=s.externalGetKey,u=s.childrenPropName,I=s.fieldNames,t=arguments.length>2?arguments[2]:void 0,x=O||t,k={},H={},o={posEntities:k,keyEntities:H};return y&&(o=y(o)||o),le(a,function(i){var h=i.node,N=i.index,S=i.pos,Q=i.key,w=i.parentPos,J=i.level,ne=i.nodes,q={node:h,nodes:ne,index:N,key:Q,pos:S,level:J},Ce=Y(Q,S);k[S]=q,H[Ce]=q,q.parent=k[w],q.parent&&(q.parent.children=q.parent.children||[],q.parent.children.push(q)),m&&m(q,o)},{externalGetKey:x,childrenPropName:u,fieldNames:I}),K&&K(o),o}function _(a,s){var y=s.expandedKeys,m=s.selectedKeys,K=s.loadedKeys,O=s.loadingKeys,u=s.checkedKeys,I=s.halfCheckedKeys,t=s.dragOverNodeKey,x=s.dropPosition,k=s.keyEntities,H=(0,pe.Z)(k,a),o={eventKey:a,expanded:y.indexOf(a)!==-1,selected:m.indexOf(a)!==-1,loaded:K.indexOf(a)!==-1,loading:O.indexOf(a)!==-1,checked:u.indexOf(a)!==-1,halfChecked:I.indexOf(a)!==-1,pos:String(H?H.pos:""),dragOver:t===a&&x===0,dragOverGapTop:t===a&&x===-1,dragOverGapBottom:t===a&&x===1};return o}function B(a){var s=a.data,y=a.expanded,m=a.selected,K=a.checked,O=a.loaded,u=a.loading,I=a.halfChecked,t=a.dragOver,x=a.dragOverGapTop,k=a.dragOverGapBottom,H=a.pos,o=a.active,i=a.eventKey,h=(0,ge.Z)((0,ge.Z)({},s),{},{expanded:y,selected:m,checked:K,loaded:O,loading:u,halfChecked:I,dragOver:t,dragOverGapTop:x,dragOverGapBottom:k,pos:H,active:o,key:i});return"props"in h||Object.defineProperty(h,"props",{get:function(){return(0,Ke.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),a}}),h}}}]);
